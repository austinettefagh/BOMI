!function(modules){var installedModules={};function __webpack_require__(moduleId){var module;return(installedModules[moduleId]||(module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}},modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module)).exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=117)}({117:function(module,exports,__webpack_require__){module.exports=__webpack_require__(118)},118:function(module,exports,__webpack_require__){__webpack_require__(119),__webpack_require__(120),__webpack_require__(121),__webpack_require__(123),__webpack_require__(124)},119:function(module,exports){!function(){"use strict";angular.module("ncRelatedList",["ncDataTable","ncFieldSetConfigurator"])}()},120:function(module,exports){!function(){"use strict";angular.element(document).ready(function(){angular.bootstrap(document.getElementById("ncRelatedList"),["ncRelatedList"])})}()},121:function(module,exports,__webpack_require__){!function(){"use strict";angular.module("ncRelatedList").component("ncRelatedList",{bindings:{sectionId:"@",guid:"@",contextId:"@",actions:"<?",instructions:"@?",addEditModalContent:"@?",columnSize:"<?",title:"@?",description:"@?",addNewActionOverride:"@?",addNewActionLabel:"@?",areColumnsSortable:"<?",showEditFieldSetButton:"<?",hideMessages:"<?",readOnly:"<?"},controller:["relatedList","pubsub","$scope","picklistService",function(relatedList,pubsub,$scope,picklistService){var ctrl=this;ctrl.$onInit=function(){ctrl.showLoader=!1,ctrl.labels=relatedList.labels,ctrl.columnSize=ctrl.columnSize?ctrl.columnSize+1:5,ctrl.labels.addRecordLabel=ctrl.labels.Add_Record,ctrl.showMessages=void 0===ctrl.hideMessages||!ctrl.hideMessages,ctrl.alertBoxLabels={heading:ctrl.labels.Confirm_Delete_Record,message:ctrl.labels.Delete_Record_Warning,cancel:ctrl.labels.Cancel,confirm:ctrl.labels.Yes_Delete},ctrl.hideActions=!0===ctrl.readOnly||"true"===ctrl.readOnly,ctrl.hasPagination=!1,ctrl.totalPages=1,ctrl.listResource=null,ctrl.setAlternateButtonLabels(),relatedList.init(ctrl.guid),ctrl.getRecords()},ctrl.getInstructions=function(){return ctrl.instructions},ctrl.getTitle=function(){return ctrl.title||ctrl.getSectionName()},ctrl.getDescription=function(){return ctrl.description||""},ctrl.getSectionName=function(){return relatedList.getSectionName(ctrl.sectionId)},ctrl.getChildSectionConfig=function(property){return relatedList.getChildSectionConfig(ctrl.sectionId,property)},ctrl.isEditFieldSet=function(){return relatedList.isEditFieldSet(ctrl.sectionId,["sObjectType","fieldSetKey"])},ctrl.addRecord=function(){ctrl.addNewActionOverride?LifeCycle.Navigator.navigateToRoute(ctrl.addNewActionOverride):(relatedList.ui.block(),relatedList.setGuid(ctrl.guid),relatedList.addRecord(ctrl.sectionId,ctrl.contextId).then(function(resource){relatedList.loadSelection(resource),relatedList.ui.unblock()},function(error){relatedList.setMessage(error),relatedList.ui.unblock()}))},ctrl.deleteRecord=function(record){record&&(relatedList.ui.block(),relatedList.deleteRecord(record).then(function(){ctrl.getRecords()},function(error){relatedList.setMessage(error),relatedList.ui.unblock()}))},ctrl.saveRecord=function(){return relatedList.ui.block(),relatedList.saveData().then(function(){pubsub.publish(pubsub.topics.MODAL_FORM_SUCCESS),relatedList.screenSection.notifyCallbacks(relatedList.screenSection.saveCallbacks),relatedList.clearSelection(),relatedList.screenSection.notifyLightningUI(),picklistService.clearMaps(),ctrl.getRecords()},function(error){relatedList.setMessage(error,"modal"),relatedList.screenSection.notifyLightningUI(),relatedList.ui.unblock()})},ctrl.cancelSaveRecord=function(){relatedList.screenSection.notifyCallbacks(relatedList.screenSection.cancelCallbacks),picklistService.clearMaps(),relatedList.screenSection.notifyLightningUI(),ctrl.getRecords()},ctrl.getRecords=function(){return relatedList.ui.block(),relatedList.getRecords(ctrl.sectionId,ctrl.guid,ctrl.contextId).then(function(screenSection){ctrl.listResource=relatedList.screenSection.getListResource(ctrl.sectionId),ctrl.listResource&&ctrl.listResource.configuration&&(ctrl.hasPagination=ctrl.listResource.configuration.offsetByLimit),ctrl.hasPagination&&(relatedList.resetPagination(),ctrl.totalPages=ctrl.getTotalPages()),relatedList.ui.unblock()},function(error){relatedList.setMessage(error),relatedList.ui.unblock()})},ctrl.getAdditionalRecords=function(){relatedList.getAdditionalRecords(ctrl.listResource)},ctrl.getPreviousRecords=function(){relatedList.getPreviousRecords(ctrl.listResource)},ctrl.getCurrentPageNumber=function(){return relatedList.getCurrentPageNumber()},ctrl.getTotalPages=function(){return relatedList.getTotalPages(ctrl.listResource)},ctrl.setAlternateButtonLabels=function(){ctrl.addNewActionLabel&&(ctrl.labels.addRecordLabel=ctrl.addNewActionLabel)},ctrl.getDisableModal=function(){return void 0!==ctrl.addNewActionOverride&&0<ctrl.addNewActionOverride.length},pubsub.subscribe(pubsub.topics.GET_NEXT_PAGE,ctrl.getAdditionalRecords),pubsub.subscribe(pubsub.topics.GET_PREVIOUS_PAGE,ctrl.getPreviousRecords)}],template:__webpack_require__(122)})}()},122:function(module,exports){module.exports='<div class="nds-section__header">\n\t<message ng-if="::$ctrl.showMessages"></message>\n\t<div class="slds-p-bottom--small slds-size--0-of-12">\n\t\t<span role="heading" aria-level="3" class="slds-text-heading--small">{{::$ctrl.getTitle()}}</span>\n\t\t<nc-edit-field-set-button\n\t\t\tclass="pull-right"\n\t\t\tng-if="$ctrl.isEditFieldSet() && $ctrl.showEditFieldSetButton"\n\t\t\tentity="{{$ctrl.getChildSectionConfig(\'sObjectType\')}}"\n\t\t\tfield-set-key="{{$ctrl.getChildSectionConfig(\'fieldSetKey\')}}"\n\t\t>\n\t\t</nc-edit-field-set-button>\n\t</div>\n\t<div\n\t\tclass="slds-text-title slds-p-bottom--small slds-size--0-of-12"\n\t\tng-if="$ctrl.getDescription()"\n\t>\n\t\t{{::$ctrl.getDescription()}}\n\t</div>\n\t<div\n\t\tclass="slds-text-body--regular slds-p-top--small slds-p-bottom--small slds-size--0-of-12"\n\t\tng-bind="::$ctrl.getInstructions()"\n\t\tng-show="$ctrl.getInstructions().length"\n\t/>\n</div>\n<div class="nds-section__body slds-p-bottom--none">\n\t<nc-data-table\n\t\tguid="{{$ctrl.guid}}"\n\t\tsection-id="{{$ctrl.sectionId}}"\n\t\tcontext-id="{{$ctrl.contextId}}"\n\t\tcolumn-size="$ctrl.columnSize"\n\t\tadd-record="$ctrl.addRecord()"\n\t\tadd-button-label="{{$ctrl.labels.addRecordLabel}}"\n\t\tedit-record="$ctrl.editRecord(record)"\n\t\tedit-button-label="{{$ctrl.labels.Edit}}"\n\t\tdelete-record="$ctrl.deleteRecord(record)"\n\t\tdelete-button-label="{{$ctrl.labels.Delete}}"\n\t\tmodal-cancel-button="$ctrl.cancelSaveRecord()"\n\t\tmodal-cancel-button-label="{{$ctrl.labels.Cancel}}"\n\t\tmodal-continue-button="$ctrl.saveRecord()"\n\t\tmodal-continue-button-label="{{$ctrl.labels.Continue}}"\n\t\tmodal-text-heading-add-mode="{{$ctrl.labels.Add_Record}}"\n\t\tmodal-text-heading-edit-mode="{{$ctrl.labels.Edit_Record}}"\n\t\talert-box-labels="::$ctrl.alertBoxLabels"\n\t\tactions="$ctrl.actions"\n\t\tadd-edit-modal-content="{{$ctrl.addEditModalContent}}"\n\t\tdisable-modal="$ctrl.getDisableModal()"\n\t\tare-columns-sortable="$ctrl.areColumnsSortable"\n\t\thide-actions="$ctrl.hideActions"\n\t\thas-pagination="$ctrl.hasPagination"\n\t\tcurrent-page="$ctrl.getCurrentPageNumber()"\n\t\ttotal-pages="$ctrl.totalPages"\n\t>\n\t</nc-data-table>\n</div>\n<div\n\tng-if="$ctrl.showLoader"\n\trole="status"\n\tclass="slds-spinner slds-spinner--medium slds-spinner--brand related-list-spinner"\n>\n\t<span class="slds-assistive-text">Loading</span>\n\t<div class="slds-spinner__dot-a"></div>\n\t<div class="slds-spinner__dot-b"></div>\n</div>\n'},123:function(module,exports){!function(){"use strict";angular.module("ncRelatedList").provider("relatedListRemoting",function RelatedListRemoting(){var self=this;self.endpoints={},self.$get=function($q){return{deleteRecord:function(record){var deferred=$q.defer();return Visualforce.remoting.Manager.invokeAction(self.endpoints.deleteRecord,angular.fromJson(angular.toJson(record))||null,"screen-resource-delete-container-bean",function(result,event){event.status?deferred.resolve(result,event):deferred.reject(event.message)},{escape:!1}),deferred.promise},getRecords:function(sectionId,guid,contextId){var deferred=$q.defer();return Visualforce.remoting.Manager.invokeAction(self.endpoints.loadData,sectionId||null,guid||null,contextId||null,function(result,event){event.status?deferred.resolve(result,event):deferred.reject(event.message)},{escape:!1}),deferred.promise},getAdditionalRecords:function(listResource){var deferred=$q.defer();return Visualforce.remoting.Manager.invokeAction(self.endpoints.loadAdditionalData,listResource,function(result,event){event.status?deferred.resolve(result,event):deferred.reject(event.message)},{escape:!1}),deferred.promise},createNew:function(screenResource){var deferred=$q.defer();return Visualforce.remoting.Manager.invokeAction(self.endpoints.createNew,angular.fromJson(angular.toJson(screenResource))||null,function(result,event){event.status?deferred.resolve(result,event):deferred.reject(event.message)},{escape:!1}),deferred.promise},saveData:function(screenResource){var deferred=$q.defer();return Visualforce.remoting.Manager.invokeAction(self.endpoints.saveData,angular.fromJson(angular.toJson(screenResource))||null,function(result,event){event.status?deferred.resolve(result,event):deferred.reject(event.message)},{escape:!1}),deferred.promise}}},self.setEndpoint=function(endpoint){self.endpoint=angular.merge(self.endpoints,endpoint)}})}()},124:function(module,exports){!function(){"use strict";function RelatedList(screenSection,visualForceMarkup,relatedListRemoting,ui,label,messageService,$q,pubsub){var self=this;self.ui=ui,self.screenSection=screenSection,self.labels=label.getLabels(),self.loadedPages=[],self.currentPage=0,self.init=function(guid){self.screenSection.formBuilder.setGuid(guid),self.setGuid(guid)},self.getGuid=function(){return self.guid},self.getSectionName=function(screenSectionId){return(screenSectionId=screenSection.get(screenSectionId))&&screenSectionId.sectionName},self.getChildSectionConfig=function(screenSectionId,property){var config;return(config=property?screenSection.getConfiguration(screenSectionId):config)&&config.childConfigurations&&0<config.childConfigurations.length&&config.childConfigurations[0].hasOwnProperty(property)?config.childConfigurations[0][property]:config&&config.hasOwnProperty(property)?config[property]:void 0},self.isEditFieldSet=function(screenSectionId,requirements){return requirements&&requirements instanceof Array&&0<requirements.filter(function(property){return void 0!==self.getChildSectionConfig(screenSectionId,property)}).length},self.addRecord=function(screenSectionId,contextId){var parts,baseSection=screenSection.get(screenSectionId),resource=screenSection.getResourceFromSection(baseSection),resource=angular.copy(resource.children[0]),deferred=(self.removeChildData(resource),!resource.isList&&resource.apexType&&(parts=resource.apexType.split("."),resource.apexType=parts[0]+".ConfiguredSObjectListScreenResource",_.values(resource.propertyBag).filter(function(field){field.value=void 0})),$q.defer());return relatedListRemoting.createNew(resource).then(function(result){self.getPicklistValues(screenSectionId,contextId,baseSection,!0).then(function(){deferred.resolve(result)},function(reason){screenSection.errorHandler(reason),deferred.reject(reason)})}),deferred.promise},self.removeChildData=function(resource){resource.hasOwnProperty("children")&&(resource.children=[]),resource.hasOwnProperty("remainingIds")&&(resource.remainingIds=[])},self.loadSelection=function(resource){screenSection.loadChildSection(resource,self.guid),screenSection.set(screenSection.getSelectedChild())},self.clearSelection=function(){screenSection.clearSelectedChild()},self.deleteRecord=function(record){return relatedListRemoting.deleteRecord(record)},self.saveData=function(){var selectedChild=screenSection.getSelectedChild(),selectedChild=selectedChild.isList?selectedChild.children[0]:selectedChild;return relatedListRemoting.saveData(selectedChild)},self.getRecords=function(screenSectionId,guid,contextId){var deferred=$q.defer();return relatedListRemoting.getRecords(screenSectionId,guid,contextId).then(function(result){for(var resource in self.setRecord(result),result.screenResources)self.inflatePropertiesFromDescriptors(result.screenResources[resource]);self.getPicklistValues(screenSectionId,contextId,result,!1).then(function(){deferred.resolve(result)},function(reason){screenSection.errorHandler(reason),deferred.reject(reason)})}),deferred.promise},self.getAdditionalRecords=function(listResource){var deferred,idsToQuery,listResourceCopy;if(self.currentPage<self.loadedPages.length-1)self.currentPage++,listResource.children=self.loadedPages[self.currentPage],self.inflatePropertiesFromDescriptors(listResource);else if(listResource&&listResource.remainingIds&&listResource.remainingIds.length)return 0===self.loadedPages.length&&self.loadedPages.push(listResource.children),deferred=$q.defer(),idsToQuery=listResource.remainingIds.splice(0,listResource.configuration.limitValue),(listResourceCopy=angular.copy(listResource)).remainingIds=idsToQuery,listResourceCopy.children=[],relatedListRemoting.getAdditionalRecords(listResourceCopy).then(function(result){self.loadedPages.push(result.children),listResource.children=result.children,self.inflatePropertiesFromDescriptors(listResource),self.currentPage++,deferred.resolve()},function(result){deferred.resolve()}),deferred.promise},self.getPreviousRecords=function(listResource){listResource&&listResource.children&&0<self.currentPage&&(self.currentPage--,listResource.children=self.loadedPages[self.currentPage],self.inflatePropertiesFromDescriptors(listResource))},self.getCurrentPageNumber=function(){return self.currentPage+1},self.getTotalPages=function(listResource){var limit;return listResource&&listResource.remainingIds&&listResource.remainingIds.length?(limit=listResource.configuration.limitValue,listResource=listResource.remainingIds.length+limit,Math.ceil(listResource/limit)):1},self.resetPagination=function(){self.currentPage=0,self.loadedPages=[]},self.setGuid=function(guid){self.guid=guid},self.setRecord=function(resource){screenSection.set(resource)},self.setMessage=function(message,context){messageService.setMessage({type:messageService.messageTypes.error,text:message,context:context},!0)},self.getPicklistValues=function(screenSectionId,contextId,rootResource,isAddNew){var deferred=$q.defer(),isAddNew={isRelatedList:!0,isAddNewModal:isAddNew},resources=_.values(rootResource.screenResources);return self.setOptionValues(resources,isAddNew),visualForceMarkup.retrieve(screenSectionId,contextId,rootResource,isAddNew).then(function(){deferred.resolve()},function(reason){screenSection.errorHandler(reason),deferred.reject(reason)}),deferred.promise},self.inflatePropertiesFromDescriptors=function(resource){if(resource.configuration){var childResources=self.screenSection.getChildren(resource.configuration.screenSectionId);if(childResources&&childResources.length&&childResources[0].descriptors)for(var i=0,j=childResources.length;i<j;i++)self.screenSection.mergeDescriptorsIntoPropertyBag(childResources[i])}return resource},self.setOptionValues=function(resources,options){resources&&(0<resources.length&&resources[0].children&&0<resources[0].children.length?self.setOptionValues(resources[0].children,options):0<resources.length&&resources[0].configuration?(options.fieldSetKey=resources[0].configuration.fieldSetKey,options.sObjectType=resources[0].configuration.sObjectType):resources.configuration&&(options.fieldSetKey=resources.configuration.fieldSetKey,options.sObjectType=resources.configuration.sObjectType))}}angular.module("ncRelatedList").service("relatedList",RelatedList),RelatedList.$inject=["screenSection","visualForceMarkup","relatedListRemoting","ui","label","messageService","$q","pubsub"]}()}});