(()=>{var __webpack_modules__={3063:(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3645),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__)()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.id,"h2.slds-card__header-title.insurance-card-header.ng-binding {\n    display: flex;\n    font-size: 1rem;\n    font-weight: 700;\n    line-height: 1.25;\n    font-family: -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';\n    margin-top: 0px;\n}\n\narticle.slds-card.insurance-card {\n    box-shadow: none;\n}",""]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},4543:(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3645),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__)()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.id,".slds-modal {\n    background: rgba(0,0,0,0.4);\n}\n\nbutton.slds-button.slds-button_icon.slds-modal__close.slds-button_icon-inverse.close-insurance-modal-button {\n    top: auto;\n}\n\n.slds-table .slds-line-height_reset .table-button-header {\n    width: 3.75rem;\n}\n\n.slds-form-element__control .slds-combobox_container .slds-combobox.slds-dropdown-trigger .slds-dropdown.slds-dropdown_length-5.slds-dropdown_fluid.search-combobox-show {\n    display: block;\n}\n\n.slds-scope .slds-modal__container.modal-container {\n    height: 120%;\n    margin: -2rem auto 0 auto;\n    justify-content: flex-start;\n}",""]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},4188:(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3645),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__)()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.id,"/* nFORCE__Template_Landing Overrides */\n\nhtml {\n  font-size: unset!important;\n}\n\n.slds-scope:not(html),\n.slds-scope body,\n.force .body-content .row.view-container,\n#bodyTable.outerNoSidebar {\n  background: #f4f6f9;\n  border: 0px;\n}\n\n.insurance-header-container {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  position: relative;\n}\n\n.slds .slds-section .slds-button__icon.caution-icon {\n  transform: none;\n}\n\n.slds-scope .slds-popover.popover-section {\n  position: absolute;\n  bottom: 100%;\n  right: 0;\n}\n\n.slds-scope .slds-popover_warning .slds-popover__body.popover-body {\n  width :fit-content;\n  padding: 0px 8px 8px 8px;\n}\n\n.offers {\n  background-color: white;\n}\n\n.offer-card {\n  padding: 1em;\n}\n\n.offers-card-select-btn {\n  text-align: center;\n}\n\n.offer-name {\n  color: #0070d2;\n  font-size: 1.125em;\n  word-break: break-word;\n  width: 100%;\n}\n\n.offer-horizontal-align {\n  margin-top: auto;\n  margin-bottom: auto;\n}\n\n.offer-heading-strong {\n  font-weight: 400;\n  font-size: 1.25rem;\n  line-height: 1.25;\n\n  margin: 0.75rem 0;\n}\n\n.slds-scope .slds-box.offer-border {\n  border: solid 1px rgba(210, 219, 226, 0.8);\n  border-radius: 0.5rem;\n}\n\n.slds-scope .slds-box.offer-border-expanded {\n  border: solid 1px #008aea;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.16);\n}\n\n.slds .offers {\n  margin-right: -1.75rem;\n  margin-left: -1.75rem;\n}\n\n.slds-scope .slds-card.insurance-section {\n  box-shadow:none\n}\n\n.offers-sorting-select {\n  display: inline-block;\n}\n\n.slds-scope .slds-section__title-action-icon {\n  cursor: pointer;\n  transition-duration: 0.3s;\n}\n\n.slds-scope .slds-section__title-action-icon.action-icon-disabled {\n  cursor: default;\n}\n\n.slds-scope .slds-button.slds-button_neutral:not([disabled]) {\n  color: #0070d2;\n}\n\nnds-form.collapsed-offer-card .slds-form-element__label {\n  align-content: center;\n  align-items: center;\n  color: #788991;\n  display: flex;\n  font-size: 0.675rem;\n  justify-content: center;\n  margin: auto;\n  padding: 0;\n  text-transform: uppercase;\n  white-space: nowrap;\n}\n\nnds-form.collapsed-offer-card .slds-form-element__control .slds-text-body_regular {\n  align-content: center;\n  align-items: center;\n  color: #16325c;\n  display: flex;\n  font-size: 1.125rem;\n  justify-content: center;\n  margin: auto;\n}\n\nnds-form.expanded-offer-card .slds-form-element__label {\n  color: #788991;\n  text-align: center;\n}\n\nnds-form.expanded-offer-card .slds-form-element__control .slds-text-body_regular {\n  color: #16325c;\n}\n\n.slds-scope .offer-card-divider {\n  height: 1rem;\n  opacity: 0.32;\n}\n\n.offer-card-disabled {\n  opacity: 0.32;\n}\n\n.slds-scope .slds-section.slds-is-open .offers-switch-icon .slds-section__title-action-icon {\n  transform-origin: 50%;\n}\n\n.slds .slds-section .input-help .slds-button__icon {\n  transform: none;\n}\n\ndiv.slds-popover__body {\n  width: max-content;\n}\n\nnds-tooltip nds-popover .slds-popover {\n  min-width: 250px;\n  text-align: left;\n  overflow-wrap: normal;\n}\n\nslot-fb > div {\n  max-width: 250px;\n}\n\n@media (min-width: 64rem) {\n  .offers-card-select-btn nds-button {\n    float: right;\n  }\n  .offer-name {\n    font-size: 1.25em;\n  }\n  .nds-form.collapsed-offer-card .slds-form-element__control .slds-text-body_regular {\n    font-size: 1.25rem;\n  }\n  nds-form.collapsed-offer-card .slds-form-element__label {\n    font-size: 0.75rem;\n  }\n}",""]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},3645:module=>{"use strict";module.exports=function(cssWithMappingToString){var list=[];return list.toString=function toString(){return this.map((function(item){var content=cssWithMappingToString(item);return item[2]?"@media ".concat(item[2]," {").concat(content,"}"):content})).join("")},list.i=function(modules,mediaQuery,dedupe){"string"==typeof modules&&(modules=[[null,modules,""]]);var alreadyImportedModules={};if(dedupe)for(var i=0;i<this.length;i++){var id=this[i][0];null!=id&&(alreadyImportedModules[id]=!0)}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);dedupe&&alreadyImportedModules[item[0]]||(mediaQuery&&(item[2]?item[2]="".concat(mediaQuery," and ").concat(item[2]):item[2]=mediaQuery),list.push(item))}},list}},7246:module=>{module.exports='<article ng-if="calcInsCard.config.showCreditProtection" ng-show="calcInsCard.insuranceCardLoaded" class="slds-card insurance-card"> <div class="slds-card__header slds-grid"> <header class="slds-media slds-media_center slds-has-flexi-truncate"> <div class="slds-media__body"> <h2 tabindex="0" class="slds-card__header-title insurance-card-header" title="{{ ::calcInsCard.labels.Insurance_Header }}"> {{ ::calcInsCard.labels.Insurance_Header }} </h2> </div> <div class="slds-no-flex"> <button ng-disabled="calcInsCard.disableInsuranceCardButton" class="slds-button slds-button_neutral add-insurance-button" ng-click="calcInsCard.openModal()" ng-keydown="calcInsCard.openModalKeydown($event)">{{ calcInsCard.savedProtections.length ? calcInsCard.labels.Edit : calcInsCard.labels.Add }} </button> </div> </header> </div> <div ng-if="!calcInsCard.savedProtections.length" tabindex="0" class="slds-card__body slds-card__body_inner">{{ ::calcInsCard.labels.No_Insurance }}</div> <div ng-if="calcInsCard.savedProtections.length" tabindex="0" class="slds-card__body slds-card__body_inner"> <ul> <li class="slds-m-top_medium" style="position:relative" ng-repeat="savedProtection in calcInsCard.savedProtections track by $index">{{savedProtection.attributes.productName}} <button aria-haspopup="true" class="slds-button slds-button_icon slds-button_icon-border slds-button_icon-small slds-float_right" ng-click="calcInsCard.togglePopover($index)" ng-if="savedProtection.attributes.hasOneDropped" title="Warnings"> <svg class="slds-button__icon caution-icon" aria-hidden="true"> <use xlink:href="/apexpages/slds/latest/assets/icons/utility-sprite/svg/symbols.svg#warning"></use> </svg> <span class="slds-assistive-text">Warnings</span> </button> <section aria-labelledby="insurance-adjustment-warning-header" class="slds-popover slds-popover_medium slds-popover_warning slds-nubbin_bottom-right popover-section calculate-insurance-popover" ng-if="calcInsCard.currentPopoverIndex == $index" role="dialog"> <button class="slds-button slds-button_icon slds-button_icon-small slds-float_right slds-popover__close" title="Close dialog" ng-click="calcInsCard.closePopover()"> <svg class="slds-button__icon" aria-hidden="true"> <use xlink:href="/apexpages/slds/latest/assets/icons/utility-sprite/svg/symbols.svg#close"></use> </svg> <span class="slds-assistive-text">Close dialog</span> </button> <header class="slds-popover__header"> <div class="slds-media slds-media_center slds-has-flexi-truncate"> <div class="slds-media__figure"> <span class="slds-icon_container slds-icon-utility-warning"> <svg class="slds-icon slds-icon_x-small slds-icon-text-default" aria-hidden="true"> <use xlink:href="/apexpages/slds/latest/assets/icons/utility-sprite/svg/symbols.svg#warning"></use> </svg> </span> </div> <div class="slds-media__body"> <div class="slds-truncate slds-text-heading_small" id="insurance-adjustment-warning-header"> {{ ::calcInsCard.labels.Credit_Protections_Insurance_Adjustment_Warning_Header }} </div> </div> </div> </header> <div class="slds-popover__body popover-body" id="dialog-body-id-125"> <p> {{ ::calcInsCard.labels.Credit_Protections_Insurance_Adjustment_Warning_Message }} </p> </div> </section> <br/> <div ng-if="savedProtection.attributes.noRemainingProtections"> <div class="slds-grid slds-p-top_xx-small"> <span ng-if="savedProtection.attributes.LLC_BI__Drop_Reason__c.value.length" class="slds-col slds-size_1-of-3">{{::calcInsCard.labels.Offers_Drop_Reason}}</span> <span class="slds-col"> {{::savedProtection.attributes.LLC_BI__Drop_Reason__c.value}} </span> </div> </div> <div ng-if="!savedProtection.attributes.noRemainingProtections"> {{ ::calcInsCard.labels.Offers_Cost_Per_Day }} <span class="slds-m-left_large"> {{calcInsCard.displayCostPerDay(savedProtection)}} </span> </div> </li> </ul> </div> </article> <div ng-if="calcInsCard.showModal"> <calculate-insurance-modal calc-ins-card="calcInsCard" show-modal="calcInsCard.showModal" saved-protections="calcInsCard.savedProtections"></calculate-insurance-modal> </div> '},9521:module=>{module.exports=' <div class="slds" id="sldsDiv" ng-show="calcInsModal.showAddInsuranceScreen"> <div role="dialog" class="slds-modal slds-fade-in-open slds-modal_medium"> <div class="slds-modal__container modal-container"> <button tabindex="0" class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse close-insurance-modal-button" ng-click="calcInsModal.closeModal()" ng-keydown="calcInsModal.handleCloseModalKeydown($event)"> <svg class="slds-button__icon slds-button__icon_large"> <use xlink:href="/apexpages/slds/latest/assets/icons/utility-sprite/svg/symbols.svg#close"/> </svg> <span class="slds-assistive-text">{{ ::calcInsModal.labels.Cancel }}</span> </button> <div class="slds-modal__header"> <h1 tabindex="0" id="modal-heading-01" class="slds-modal__title slds-hyphenate"> {{ ::calcInsModal.labels.Add_Insurance_Modal_Header }} </h1> </div> <div class="slds-modal__content slds-grid slds-nowrap slds-grow-none" id="modal-content-id-1"> <div class="slds-col slds-grid slds-grid_vertical slds-nowrap"> <div class="slds-p-vertical_x-small slds-p-horizontal_large slds-shrink-none slds-theme_shade"> <div class="slds-form-element"> <label class="slds-form-element__label slds-assistive-text" for="search-input-field" id="combobox-label-id-23">{{ ::calcInsModal.labels.Search }}</label> <div class="slds-form-element__control"> <div class="slds-combobox_container"> <div class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click"> <div class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right" role="none"> <input type="text" class="slds-input slds-combobox__input" id="search-input-field" aria-autocomplete="list" aria-controls="search-input-dropdown" aria-expanded="false" aria-haspopup="listbox" aria-label="Search" autoComplete="off" role="combobox" placeholder="{{ ::calcInsModal.labels.Search }}" ng-model="calcInsModal.searchString" ng-change="calcInsModal.updateSearch()" ng-focus="calcInsModal.displaySearchList()" ng-mouseleave="calcInsModal.displaySearchList()" ng-keydown="calcInsModal.navigateIntoDropdown($event)"/> <span class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right"> <svg class="slds-icon slds-icon slds-icon_x-small slds-icon-text-default"> <use xlink:href="/apexpages/slds/latest/assets/icons/utility-sprite/svg/symbols.svg#search"></use> </svg> </span> </div> <div id="search-input-dropdown" class="slds-dropdown slds-dropdown_length-5 slds-dropdown_fluid" ng-class="{\'search-combobox-show\' : calcInsModal.displaySearchCombobox }" ng-style="{\'opacity\': calcInsModal.displaySearchCombobox ? \'1\' : \'0\', \'visibility\': calcInsModal.displaySearchCombobox ? \'visible\' : \'hidden\'}"> <ul class="slds-listbox slds-listbox_vertical" role="listbox"> <li ng-repeat="protection in calcInsModal.searchArray" class="slds-listbox__item" ng-click="calcInsModal.selectSearchedItem(protection)" ng-keydown="calcInsModal.handleSelectSearchedItemKeydown($event, protection)" tabindex="0" role="option"> <div id="option1" class="slds-media slds-listbox__option slds-listbox__option_plain slds-media_small"> <span class="slds-media__body"> <span class="slds-truncate" title="{{::protection.attributes.Name}}">{{::protection.attributes.Name}}</span> </span> </div> </li> </ul> </div> </div> </div> </div> </div> <div ng-if="calcInsModal.protectionsPillsArray.length" class="slds-pill_container slds-pill_container_bare"> <ul class="slds-listbox slds-listbox_horizontal" role="listbox" aria-label="{{::calcInsModal.labels.Insurance_Modal_Pill_Tray_Selected_Options}}" aria-orientation="horizontal"> <li ng-repeat="selectedProtections in calcInsModal.protectionsPillsArray" class="slds-listbox-item" role="presentation"> <span class="slds-pill" role="option" tabindex="0" aria-selected="true"> <span class="slds-pill__label" title="{{::selectedProtections.attributes.Name}}">{{::selectedProtections.attributes.Name}}</span> <span ng-click="calcInsModal.toggleProtectionSelection(selectedProtections)" ng-keydown="calcInsModal.handleCheckboxKeydown($event, selectedProtections)" class="slds-icon_container slds-pill__remove" title="{{::calcInsModal.labels.Insurance_Modal_Remove_Pill}}" tabindex="0"> <svg class="slds-icon slds-icon_x-small slds-icon-text-default"> <use xlink:href="/apexpages/slds/latest/assets/icons/utility-sprite/svg/symbols.svg#close"></use> </svg> </span> </span> </li> </ul> </div> <div ng-show="calcInsModal.loadCreditProtectionsComplete" class="slds-text-title slds-m-top_x-small" aria-live="polite" tabindex="0">{{calcInsModal.itemsSelectedCount}} {{ ::calcInsModal.labels.Insurance_Modal_Items_Selected }}</div> </div> <div class="slds-scrollable slds-grow" ng-show="calcInsModal.loadCreditProtectionsComplete"> <div class="slds-scrollable_none"> <table aria-multiselectable="true" class="slds-table slds-no-row-hover slds-table_bordered slds-table_fixed-layout slds-table_resizable-cols" role="grid" aria-label="Product List"> <thead> <tr class="slds-line-height_reset"> <th class="table-button-header" scope="col"></th> <th aria-label="{{ ::calcInsModal.labels.Offers_Coverage_Type }}" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col"> <a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="-1"> <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate"> <span class="slds-truncate" title="{{ ::calcInsModal.labels.Offers_Coverage_Type }}">{{ ::calcInsModal.labels.Offers_Coverage_Type }}</span> </div> </a> </th> <th aria-label="{{ ::calcInsModal.labels.Offers_Estimated_Cost_Per_Day }}" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col"> <a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="-1"> <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate"> <span class="slds-truncate" title="{{ ::calcInsModal.labels.Offers_Estimated_Cost_Per_Day }}">{{ ::calcInsModal.labels.Offers_Estimated_Cost_Per_Day }}</span> </div> </a> </th> <th aria-label="{{ ::calcInsModal.labels.Offers_Total_Cost }}" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col"> <a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="-1"> <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate"> <span class="slds-truncate" title="{{ ::calcInsModal.labels.Offers_Total_Cost }}">{{ ::calcInsModal.labels.Offers_Total_Cost }}</span> </div> </a> </th> </tr> </thead> <tbody> <tr ng-repeat="protection in calcInsModal.protectionsArray" class="slds-hint-parent"> <td class="slds-text-align_right" role="gridcell"> <label ng-if="!protection.isActive" aria-checked="false" tabindex="0" ng-click="calcInsModal.toggleProtectionSelection(protection)" ng-keydown="calcInsModal.handleCheckboxKeydown($event, protection)" class="slds-checkbox-button" for="{{\'product-table-id-\' + $index}}"> <input type="checkbox" class="slds-assistive-text" id="{{\'product-table-id-\' + $index}}" value="{{\'product-table-id-\' + $index}}" tabindex="-1"/> <span class="slds-icon_container slds-icon-utility-add slds-current-color"> <svg class="slds-icon slds-icon_x-small" aria-hidden="true"> <use xlink:href="/apexpages/slds/latest/assets/icons/utility-sprite/svg/symbols.svg#add"></use> </svg> <span class="slds-assistive-text">{{::calcInsModal.labels.Add_Insurance_Modal_Header}}</span> </span> </label> <label ng-if="protection.isActive" aria-checked="true" tabindex="0" ng-click="calcInsModal.toggleProtectionSelection(protection)" ng-keydown="calcInsModal.handleCheckboxKeydown($event, protection)" class="slds-checkbox-button slds-checkbox-button_is-checked" for="{{\'product-table-id-\' + $index}}"> <input type="checkbox" class="slds-assistive-text" id="{{\'product-table-id-\' + $index}}" value="{{\'product-table-id-\' + $index}}" tabindex="-1"/> <span class="slds-icon_container slds-icon-utility-add slds-current-color"> <svg class="slds-icon slds-icon_x-small" aria-hidden="true"> <use xlink:href="/apexpages/slds/latest/assets/icons/utility-sprite/svg/symbols.svg#check"></use> </svg> <span class="slds-assistive-text">{{::calcInsModal.labels.Add_Insurance_Modal_Header}}</span> </span> </label> </td> <th scope="row"> <div title="{{::protection.attributes.Name}}" style="white-space:pre-wrap">{{::protection.attributes.Name}}</div> </th> <td role="gridcell"> <div class="slds-truncate"> {{ protection.attributes.LLC_BI__Cost_Per_Day__c ? \'$\' + protection.attributes.LLC_BI__Cost_Per_Day__c : calcInsModal.labels.Null_Placeholder }} </div> </td> <td role="gridcell"> <div class="slds-truncate"> {{ protection.attributes.LLC_BI__Cost_Per_Day__c ? \'$\' + calcInsModal.getEstimatedTotalCost(protection) : calcInsModal.labels.Null_Placeholder }} </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> <div class="slds-modal__footer"> <button tabindex="0" class="slds-button slds-button_neutral slds-float_left" aria-label="{{ ::calcInsModal.labels.Cancel }}" ng-click="calcInsModal.closeModal()" ng-keydown="calcInsModal.handleCloseModalKeydown($event)">{{ ::calcInsModal.labels.Cancel }}</button> <button tabindex="0" class="slds-button slds-button_brand" ng-click="calcInsModal.saveModal()" ng-if="!calcInsModal.calcInsCard.config.showBorrowers" ng-keydown="calcInsModal.handleSaveModalKeydown($event)">{{ ::calcInsModal.labels.Save }}</button> <button tabindex="0" class="slds-button slds-button_brand" ng-click="calcInsModal.nextScreen()" ng-if="calcInsModal.calcInsCard.config.showBorrowers" ng-keydown="calcInsModal.handleNextButtonKeydown($event)">{{ ::calcInsModal.labels.UI_Next }}</button> </div> </div> </div> </div> <div class="slds" id="sldsDiv" ng-show="calcInsModal.showBorrowersScreen"> <div role="dialog" class="slds-modal slds-fade-in-open slds-modal_medium"> <div class="slds-modal__container modal-container"> <button tabindex="0" class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse close-insurance-modal-button" ng-click="calcInsModal.closeModal()" ng-keydown="calcInsModal.handleCloseModalKeydown($event)"> <svg class="slds-button__icon slds-button__icon_large" aria-hidden="true"> <use xlink:href="/apexpages/slds/latest/assets/icons/utility-sprite/svg/symbols.svg#close"/> </svg> <span class="slds-assistive-text">{{ ::calcInsModal.labels.Cancel }}</span> </button> <div class="slds-modal__header"> <h1 tabindex="0" id="modal-heading-01" class="slds-modal__title slds-hyphenate"> {{ ::calcInsModal.labels.Add_Insurance_Modal_Header }} </h1> </div> <div class="slds-modal__content slds-grid slds-nowrap slds-grow-none slds-p-around_medium" id="modal-content-id-1"> <h2>{{ ::calcInsModal.labels.Insurance_Modal_Assign_Borrowers_Label }}</h2> </div> <div class="slds-modal__content" id="modal-content-id-2"> <fieldset class="slds-form-element slds-p-around_medium" ng-repeat="protection in calcInsModal.protectionsPillsArray" ng-init="outerIndex = $index"> <legend class="slds-form-element__legend slds-form-element__label">{{::protection.attributes.Name}}</legend> <div class="slds-form-element__control"> <div class="slds-checkbox" ng-repeat="borrower in calcInsModal.borrowers" ng-init="innerIndex = $index"> <input type="checkbox" name="options" id="{{\'checkbox-\' + outerIndex + \'-\' + innerIndex}}" value="{{\'checkbox-\' + outerIndex + \'-\' + innerIndex}}" ng-checked="calcInsModal.borrowerIsChecked(protection.attributes.LLC_BI__Is_Joint_Credit_Protection_Coverage__c, innerIndex)"/> <label class="slds-checkbox__label" for="{{\'checkbox-\' + outerIndex + \'-\' + innerIndex}}"> <span class="slds-checkbox_faux"></span> <span class="slds-form-element__label">{{ ::borrower.name }}</span> </label> </div> </div> </fieldset> </div> <div class="slds-modal__footer"> <button tabindex="0" class="slds-button slds-button_neutral slds-float_left" ng-click="calcInsModal.previousScreen()" ng-keydown="calcInsModal.handlePreviousButtonKeydown($event)"> {{ ::calcInsModal.labels.Insurance_Modal_Previous_Button }}</button> <button tabindex="0" class="slds-button slds-button_brand" ng-click="calcInsModal.saveModal()" ng-keydown="calcInsModal.handleSaveModalKeydown($event)">{{ ::calcInsModal.labels.Insurance_Modal_Save_and_Next_Button }}</button> </div> </div> </div> </div> '},7901:module=>{module.exports='<div class="slds-grid slds-grid_vertical"> <div class="slds-col slds-gutters_x-small"> <message/> </div> <div class="slds-col slds-grid"> <div ng-class="(offers.displayRecalculateOffers || (offers.offers.length > 0 && offers.showCreditProtection)) ? \'slds-size_3-of-4\' : \'slds-size_1-of-1\'"> <div class="slds-box slds-theme_default"> <div ng-if="offers.loaded && offers.offers.length === 0" class="slds-text-align_center slds-m-vertical_large"> <img ng-src="{{::offers.noOffersImageSrc}}" class="slds-p-bottom_medium"/> <div class="slds-text-heading_medium"> {{ offers.labels.No_Offers_Returned_Message }} </div> <div ng-if="offers.reason" class="slds-text-body_small slds-text-color_weak"> {{ offers.reason }} </div> </div> <div ng-if="offers.loaded && offers.offers.length > 0"> <div class="offer-heading-strong slds-m-vertical_small"> {{ offers.hydrateNumberLabel(offers.labels.Requested_Loan_Amount, offers.formatCurrency(offers.loanAmount)) }} </div> <div class="slds-text-title slds-m-bottom_large"> {{ offers.hydrateNumberLabel(offers.labels.Offers_Returned, offers.offers.length) }} <label> &bull; {{ offers.labels.Offers_Sorting_Preference }} <span ng-if="offers.offerSortingOptions.length === 1"> {{ offers.offerSortingOptions[0].label }} </span> <span ng-if="offers.offerSortingOptions.length > 1" class="slds-select_container offers-sorting-select"> <select ng-model="offers.offerSorting" class="slds-select"> <option ng-repeat="sortingOption in offers.offerSortingOptions" ng-value="sortingOption.field"> {{ sortingOption.label }} </option> </select> </span> </label> </div> <offers-card ng-show="offers.offers.length > 0" ng-repeat="offer in offers.offers | orderBy: offers.getOfferSortingField track by offer.identity" offer="offer" collapsed-card-metadata="offers.collapsedCardMetadata" expanded-card-metadata="offers.expandedCardMetadata" combined-streams-metadata="offers.combinedStreamsMetadata" ng-if="offers.loadedCardMetadata" done-loading-insurances="offers.doneLoadingInsurances" insurance-cost-data="offers.insuranceCostData" offer-selected="offers.offerSelected"></offers-card> </div> </div> </div> <div class="slds-col--padded"> <div ng-if="offers.loaded && offers.displayRecalculateOffers" class="slds-m-bottom_medium"> <recalculate-offers reload-insurance-card="offers.reloadInsuranceCard()"></recalculate-offers> </div> <div ng-if="offers.offers.length > 0 && offers.showCreditProtection" ng-show="offers.hasProtectionModifyPerms"> <calculate-insurance disable-insurance-card-button="offers.offerSelected" done-loading-insurances="offers.doneLoadingInsurances" insurance-cost-data="offers.insuranceCostData" invoke-recalc="true" offers="offers"> </calculate-insurance> </div> </div> </div> </div>'},5275:module=>{module.exports='<div class="slds-section slds-box slds-p-around_medium offer-border" ng-class="[offersCard.getCardDisabledClasses(), offersCard.getCardExpandedClasses()]"> <div class="slds-grid"> <nds-badge class="slds-m-right_xx-small slds-p-top_xx-small" ng-if="offersCard.offer.attributes.LLC_BI__Is_HCM__c === \'true\'">{{ ::offersCard.labels.HCM }} </nds-badge> <nds-badge class="slds-m-right_xx-small slds-p-top_xx-small" ng-if="offersCard.offer.attributes.LLC_BI__Is_HPML__c === \'true\'">{{ ::offersCard.labels.HPML }} </nds-badge> <nds-tooltip ng-if="\n\t\t\t\toffersCard.offer.attributes.LLC_BI__Is_HCM__c === \'true\' ||\n\t\t\t\toffersCard.offer.attributes.LLC_BI__Is_HPML__c === \'true\'\n\t\t\t" id="{{ offersCard.offer.identity }}-offer-tooltip" icon-name="info" icon-type="utility" nubbin-position="left" message="" message-array="{{ offersCard.buildHomeLendingCalculationsMessage() }}" tooltip-type="icon" vg-class="slds-icon_small" size="small" svg-class="slds-icon-text-light" fill-color="brand"> </nds-tooltip> </div> <div class="slds-section__title slds-grid slds-wrap"> <div class="slds-col slds-grid slds-size_12-of-12 slds-large-size_3-of-12 slds-align-middle"> <nds-icon aria-controls="{{ offersCard.offer.identity }}-offer-card" aria-expanded="{{ offersCard.showContent }}" ng-click="offersCard.toggleExpansion()" ng-keydown="offersCard.handleToggleExpansionKeydown($event)" tabindex="0" icon-type="utility" icon-name="switch" fill="{{ ::offersCard.config.theme.brandDark }}" span-class="{{ offersCard.getIconClasses() }}" svg-class="slds-icon_small" class="offer-horizontal-align offers-switch-icon slds-m-right_medium"></nds-icon> <span class="offer-horizontal-align offer-name" ng-bind="offersCard.offer.attributes.Name"></span> </div> <div class="slds-col slds-size_12-of-12 slds-large-size_7-of-12 slds-align-middle slds-p-vertical_medium"> <nds-form id="{{ ::offersCard.offer.identity }}-collapsed-card" class="collapsed-offer-card" is-editable="false" form-entity="{{ ::offersCard.offer | json }}" form-metadata="{{ ::offersCard.collapsedCardMetadata | json }}" columns="{{ ::offersCard.collapsedCardMetadata.length }}" ng-if="offersCard.loaded && !offersCard.showInsuranceSection()"></nds-form> <div ng-if="\n\t\t\t\t\toffersCard.loaded && offersCard.showInsuranceSection() && offersCard.doneLoadingInsurances\n\t\t\t\t"> <div class="slds-size--1-of-4 slds-float_left"> <label>{{ ::offersCard.labels.Offers_APR }}</label> <br/>{{ offersCard.offer.attributes.LLC_BI__APR_Without_Credit_Protection__c }}% </div> <div class="slds-size--1-of-4 slds-float_left"> <label>{{ ::offersCard.labels.Offers_Insurance_Original_Loan_Amount }}</label> <br/>{{ offersCard.formatCurrency(\'originalLoanAmount\') }} </div> <div class="slds-size--1-of-4 slds-float_left"> <label>{{ ::offersCard.labels.Term }}</label> <br/>{{ offersCard.offer.attributes.LLC_BI__Term__c }} </div> <div class="slds-size--1-of-4 slds-float_left"> <label>{{ ::offersCard.labels.Offers_Insurance_Total_Insurance_Cost }}</label> <br/>{{ offersCard.formatCurrency(\'totalInsuranceCost\') }} </div> </div> </div> <div class="slds-col slds-size_12-of-12 slds-large-size_2-of-12 slds-align-middle offers-card-select-btn"> <nds-button id="{{ offersCard.offer.identity }}-select" button-class="" ng-if="offersCard.loaded" theme="{{ offersCard.offer.isSelected ? \'brand\' : \'neutral\' }}" state="{{ ::offersCard.offer.isSelected }}" ng-disabled="offersCard.isDisabled()" ng-on-button_click="offersCard.changeSelectedState($event.originalEvent)"> <span class="slds-text-not-pressed" ng-bind="offersCard.labels.Select_Offer"></span> <span class="slds-text-pressed" ng-bind="offersCard.labels.Offer_Selected"></span> </nds-button> </div> </div> <div aria-hidden="{{ !offersCard.showContent }}" class="slds-section__content" id="{{ offersCard.offer.identity }}-offer-card"> <hr class="slds-m-vertical_xx-small offer-card-divider"/> <nds-form id="{{ ::offersCard.offer.identity }}-expanded-card" class="expanded-offer-card" is-editable="false" form-entity="{{ ::offersCard.offer | json }}" form-metadata="{{ ::offersCard.expandedCardMetadata | json }}" columns="{{ ::offersCard.expandedCardMetadata.length }}" ng-if="offersCard.loaded"> </nds-form> <div class="slds-scrollable" ng-if="offersCard.isRetailPricingEnabled"> <hr class="slds-m-vertical_xx-small offer-card-divider"/> <span> <streams-table ng-if="offersCard.combinedStreams" streams="offersCard.combinedStreams" metadata="offersCard.combinedStreamsMetadata" is-loaded="offersCard.ratesLoaded"> </streams-table> </span> </div> </div> <article ng-if="offersCard.showInsuranceSection()" class="slds-card slds-clearfix slds-p-around_medium slds-m-top_medium insurance-section"> <div class="insurance-header-container slds-hint-parent"> <h2 tabindex="0" class="slds-card__header-title insurance-card-header" title="{{ ::calcInsCard.labels.Insurance_Header }}"> {{::offersCard.labels.Insurance_Header}} </h2> <button aria-haspopup="true" class="slds-button slds-button_icon slds-button_icon-border slds-button_icon-small" ng-click="offersCard.togglePopover()" ng-keydown="offersCard.handleTogglePopoverKeydown($event)" ng-if="offersCard.showCautionIcon()" title="Warnings"> <svg class="slds-button__icon caution-icon" aria-hidden="true"> <use xlink:href="/apexpages/slds/latest/assets/icons/utility-sprite/svg/symbols.svg#warning"></use> </svg> <span class="slds-assistive-text">Warnings</span> </button> <section aria-labelledby="insurance-adjustment-warning-header" class="slds-popover slds-popover_medium slds-popover_warning slds-nubbin_bottom-right popover-section" ng-if="offersCard.showPopover" role="dialog"> <button class="slds-button slds-button_icon slds-button_icon-small slds-float_right slds-popover__close" title="Close dialog" ng-click="offersCard.closePopover()" ng-keydown="offersCard.handleClosePopoverKeydown($event)"> <svg class="slds-button__icon" aria-hidden="true"> <use xlink:href="/apexpages/slds/latest/assets/icons/utility-sprite/svg/symbols.svg#close"></use> </svg> <span class="slds-assistive-text">Close dialog</span> </button> <header class="slds-popover__header"> <div class="slds-media slds-media_center slds-has-flexi-truncate"> <div class="slds-media__figure"> <span class="slds-icon_container slds-icon-utility-warning"> <svg class="slds-icon slds-icon_x-small slds-icon-text-default" aria-hidden="true"> <use xlink:href="/apexpages/slds/latest/assets/icons/utility-sprite/svg/symbols.svg#warning"></use> </svg> </span> </div> <div class="slds-media__body"> <div class="slds-truncate slds-text-heading_small" id="insurance-adjustment-warning-header"> {{ ::offersCard.labels.Credit_Protections_Insurance_Adjustment_Warning_Header }} </div> </div> </div> </header> <div class="slds-popover__body popover-body" id="dialog-body-id-125"> <p> {{ offersCard.generateCautionMessage() }} </p> </div> </section> </div> <br/> <div class="additional-offers-info-card-div slds-size_1-of-4 slds-float_left"> <label>{{ ::offersCard.labels.Offers_Insurance_Loan_Amount }} </label> <br/>{{ offersCard.formatCurrency(\'totalLoanAmount\') }} </div> <div class="additional-offers-info-card-div slds-size_1-of-4 slds-float_left"> <label>{{ ::offersCard.labels.Offers_Insurance_Monthly_Payment }}</label> <br/>{{ offersCard.formatCurrency(\'monthlyPmt\') }} </div> <div class="additional-offers-info-card-div slds-size_1-of-4 slds-float_left"> <label>{{ ::offersCard.labels.Offers_Insurance_APR }}</label> <br/>{{ offersCard.offer.attributes.LLC_BI__APR__c }}% </div> <div class="additional-offers-info-card-div slds-size_1-of-4 slds-float_left"> <label>{{ ::offersCard.labels.Offers_Insurance_Aggregated_Daily_Cost }}</label> <br/>{{ offersCard.formatCurrency(\'aggDailyCost\') }} </div> </article> </div> '},2459:module=>{module.exports='<div ng-if="recalculateOffers.loaded" class="slds-box slds-theme_default"> <div class="slds-text-heading_small slds-m-bottom_small"> {{ ::recalculateOffers.labels.Recalculate_Offers }} </div> <div class="slds-m-bottom_medium"> <nds-form id="recalculate-offers-form" is-editable="true" form-entity="{{ ::recalculateOffers.form.entity | json }}" form-metadata="{{ ::recalculateOffers.form.metadata | json }}" columns="1" ng-on-form_value_change="recalculateOffers.handleFormChange($event)" ng-on-keyup="recalculateOffers.recalculateOfferFormChanged = true"></nds-form> </div> <nds-button theme="neutral" ng-disabled="!recalculateOffers.recalculateOfferFormChanged" ng-click="recalculateOffers.recalculateOffers()"> {{ ::recalculateOffers.labels.Recalculate_Offers_Button }} </nds-button> </div> '},3704:module=>{module.exports='<div> <div ng-if="!streamsTable.isLoaded" class="slds-grid slds-grid_align-center slds-grid_vertical-align-center slds-p-top_small"> <nds-spinner theme="brand" inline="true"></nds-spinner> </div> <table ng-if="streamsTable.isLoaded" class="slds-table slds-table_cell-buffer slds-no-row-hover slds-table_bordered" role="grid" aria-label=""> <thead> <tr class="slds-line-height_reset"> <th ng-repeat="field in streamsTable.metadata" ng-if="field.hasFieldValue" class="" scope="col"> <div title="{{field.label}}"> {{field.label}} </div> </th> </tr> </thead> <tbody> <tr ng-repeat="stream in streamsTable.streams"> <td ng-if="field.hasFieldValue" class="slds-cell-wrap" ng-repeat="field in streamsTable.metadata" scope="row"> <nds-form-element ng-if="stream.attributes[field.fieldPath]" nds-control hide-label="true" use-milliseconds="true" is-editable="false" metadata="{{field}}" value="{{stream.attributes[field.fieldPath]}}" display-value=""> </nds-form-element> <span ng-if="!stream.attributes[field.fieldPath] && stream.streamComponents"> <div ng-repeat="streamComponent in stream.streamComponents"> <nds-form-element nds-control hide-label="true" use-milliseconds="true" is-editable="false" metadata="{{field}}" value="{{streamComponent.attributes[field.fieldPath]}}" display-value=""> </nds-form-element> </div> </span> </td> </tr> </tbody> </table> </div> '},4647:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3379),_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_cjs_js_calculateInsurance_style_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3063),options={insert:"head",singleton:!1};_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_calculateInsurance_style_css__WEBPACK_IMPORTED_MODULE_1__.Z,options);const __WEBPACK_DEFAULT_EXPORT__=_node_modules_css_loader_dist_cjs_js_calculateInsurance_style_css__WEBPACK_IMPORTED_MODULE_1__.Z.locals||{}},2195:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3379),_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_cjs_js_calculateInsuranceModal_style_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4543),options={insert:"head",singleton:!1};_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_calculateInsuranceModal_style_css__WEBPACK_IMPORTED_MODULE_1__.Z,options);const __WEBPACK_DEFAULT_EXPORT__=_node_modules_css_loader_dist_cjs_js_calculateInsuranceModal_style_css__WEBPACK_IMPORTED_MODULE_1__.Z.locals||{}},4716:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3379),_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_cjs_js_offers_style_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4188),options={insert:"head",singleton:!1};_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_offers_style_css__WEBPACK_IMPORTED_MODULE_1__.Z,options);const __WEBPACK_DEFAULT_EXPORT__=_node_modules_css_loader_dist_cjs_js_offers_style_css__WEBPACK_IMPORTED_MODULE_1__.Z.locals||{}},3379:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isOldIE=function isOldIE(){var memo;return function memorize(){return void 0===memo&&(memo=Boolean(window&&document&&document.all&&!window.atob)),memo}}(),getTarget=function getTarget(){var memo={};return function memorize(target){if(void 0===memo[target]){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement)try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}memo[target]=styleTarget}return memo[target]}}(),stylesInDom=[];function getIndexByIdentifier(identifier){for(var result=-1,i=0;i<stylesInDom.length;i++)if(stylesInDom[i].identifier===identifier){result=i;break}return result}function modulesToDom(list,options){for(var idCountMap={},identifiers=[],i=0;i<list.length;i++){var item=list[i],id=options.base?item[0]+options.base:item[0],count=idCountMap[id]||0,identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier),obj={css:item[1],media:item[2],sourceMap:item[3]};-1!==index?(stylesInDom[index].references++,stylesInDom[index].updater(obj)):stylesInDom.push({identifier,updater:addStyle(obj,options),references:1}),identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style"),attributes=options.attributes||{};if(void 0===attributes.nonce){var nonce=__webpack_require__.nc;nonce&&(attributes.nonce=nonce)}if(Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])})),"function"==typeof options.insert)options.insert(style);else{var target=getTarget(options.insert||"head");if(!target)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");target.appendChild(style)}return style}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){return textStore[index]=replacement,textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet)style.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css),childNodes=style.childNodes;childNodes[index]&&style.removeChild(childNodes[index]),childNodes.length?style.insertBefore(cssNode,childNodes[index]):style.appendChild(cssNode)}}function applyToTag(style,options,obj){var css=obj.css,media=obj.media,sourceMap=obj.sourceMap;if(media?style.setAttribute("media",media):style.removeAttribute("media"),sourceMap&&"undefined"!=typeof btoa&&(css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")),style.styleSheet)style.styleSheet.cssText=css;else{for(;style.firstChild;)style.removeChild(style.firstChild);style.appendChild(document.createTextNode(css))}}var singleton=null,singletonCounter=0;function addStyle(obj,options){var style,update,remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options)),update=applyToSingletonTag.bind(null,style,styleIndex,!1),remove=applyToSingletonTag.bind(null,style,styleIndex,!0)}else style=insertStyleElement(options),update=applyToTag.bind(null,style,options),remove=function remove(){!function removeStyleElement(style){if(null===style.parentNode)return!1;style.parentNode.removeChild(style)}(style)};return update(obj),function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}module.exports=function(list,options){(options=options||{}).singleton||"boolean"==typeof options.singleton||(options.singleton=isOldIE());var lastIdentifiers=modulesToDom(list=list||[],options);return function update(newList){if(newList=newList||[],"[object Array]"===Object.prototype.toString.call(newList)){for(var i=0;i<lastIdentifiers.length;i++){var index=getIndexByIdentifier(lastIdentifiers[i]);stylesInDom[index].references--}for(var newLastIdentifiers=modulesToDom(newList,options),_i=0;_i<lastIdentifiers.length;_i++){var _index=getIndexByIdentifier(lastIdentifiers[_i]);0===stylesInDom[_index].references&&(stylesInDom[_index].updater(),stylesInDom.splice(_index,1))}lastIdentifiers=newLastIdentifiers}}}},9845:()=>{!function(){"use strict";angular.module("ncOffers",["ncDataProviders","ncUI","ncPubsub","ncNavigator"])}()},1607:()=>{!function(){"use strict";angular.element(document).ready((function(){angular.bootstrap(document.getElementById("ncOffers"),["ncOffers"])}))}()},4766:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{!function(){"use strict";angular.module("ncOffers").component("calculateInsurance",{bindings:{disableInsuranceCardButton:"=",doneLoadingInsurances:"=",insuranceCostData:"=",invokeRecalc:"<",offers:"="},controllerAs:"calcInsCard",controller:["$scope","$timeout","config","constants","label","ui","messageService","offersService",function($scope,$timeout,config,constants,label,ui,messageService,offersService){var calcInsCard=this;function determineCostPerDay(protectionsDto){for(let protection of protectionsDto){let foundProtection=calcInsCard.protectionsArray.find((o=>o.identity===protection.attributes.LLC_BI__Product__c.value));if(foundProtection){protection.attributes.productName=foundProtection.attributes.Name;let existingProtection=calcInsCard.savedProtections.find((o=>o.attributes.productName===foundProtection.attributes.Name)),dropCode=protection.attributes.LLC_BI__Drop_Code__c.value,costPerDay=protection.attributes.LLC_BI__Cost_Per_Day__c.value,hasOneDropped=!1;if(protection.attributes.LLC_BI__Coverage_Result__c.value===constants.COVERAGE_RESULTS.PARTIALLY_APPLIED&&calcInsCard.displayWarningMessage(),0!=dropCode?(hasOneDropped=!0,calcInsCard.displayWarningMessage()):costPerDay=costPerDay?costPerDay.toFixed(2):0,(hasOneDropped||protection.attributes.LLC_BI__Coverage_Result__c.value===constants.COVERAGE_RESULTS.PARTIALLY_APPLIED)&&(existingProtection&&(existingProtection.attributes.hasOneDropped=!0),calcInsCard.droppedNames.push(protection.attributes.productName)),existingProtection&&void 0===existingProtection.attributes.LLC_BI__Cost_Per_Day__c.value&&protection.attributes.LLC_BI__Cost_Per_Day__c.value>=0){protection.attributes.multipleCostsPerDay=!1,protection.attributes.minCostPerDay=costPerDay,protection.attributes.maxCostPerDay=costPerDay,protection.attributes.noRemainingProtections=!1,calcInsCard.droppedNames.includes(protection.attributes.productName)&&(protection.attributes.hasOneDropped=!0);let index=calcInsCard.savedProtections.indexOf(existingProtection);index>-1&&(calcInsCard.savedProtections[index]=protection)}else if(existingProtection){let{minCostPerDay,maxCostPerDay}=existingProtection.attributes;(costPerDay<minCostPerDay||Number(costPerDay)>maxCostPerDay)&&(existingProtection.attributes.multipleCostsPerDay=!0,Number(costPerDay)<minCostPerDay?existingProtection.attributes.minCostPerDay=costPerDay:existingProtection.attributes.maxCostPerDay=costPerDay)}else protection.attributes.multipleCostsPerDay=!1,protection.attributes.minCostPerDay=costPerDay,protection.attributes.maxCostPerDay=costPerDay,protection.attributes.noRemainingProtections=!1,calcInsCard.droppedNames.includes(protection.attributes.productName)&&(protection.attributes.hasOneDropped=!0),calcInsCard.savedProtections.push(protection)}}!function checkIfAllProtectionsDropped(){for(let savedProtection of calcInsCard.savedProtections)savedProtection.attributes.noRemainingProtections=!(savedProtection.attributes.LLC_BI__Cost_Per_Day__c?.value>=0)}()}function handleErrors(e){console.log(e)}function loadProtectionProducts(){return offersService.loadProtectionProducts().then((function(protectionsDto){calcInsCard.protectionsArray=protectionsDto.records}))}function loadCreditProtections(){return offersService.loadCreditProtections(calcInsCard.useRelatedLoan).then((function(protectionsDto){determineCostPerDay(protectionsDto),calcInsCard.offers&&calcInsCard.offers.offers&&calcInsCard.offers.offers.length>0&&(getInsuranceCostData(protectionsDto),calcInsCard.offers.doneLoadingInsurances=!0)}))}function getInsuranceCostData(protectionsDto){let insuranceDataMap=new Map;for(let protection of protectionsDto){let offerId=protection.attributes.LLC_BI__Pricing_Option__c.value,dailyCost=protection.attributes.LLC_BI__Cost_Per_Day__c.value,totalCost=protection.attributes.LLC_BI__Premium__c.value,dropCode=protection.attributes.LLC_BI__Drop_Code__c.value,dropReason=protection.attributes.LLC_BI__Drop_Reason__c.value,productName=protection.attributes.productName;insuranceDataMap.has(offerId)||insuranceDataMap.set(offerId,{dailyCost:0,totalCost:0,droppedProducts:new Map});let offerData=insuranceDataMap.get(offerId);0===dropCode?(offerData.dailyCost+=dailyCost,offerData.totalCost+=totalCost):offerData.droppedProducts.set(productName,dropReason)}calcInsCard.offers.insuranceCostData=insuranceDataMap}calcInsCard.config=config.get(),calcInsCard.currentPopoverIndex=-1,calcInsCard.droppedNames=[],calcInsCard.insuranceCardLoaded=!1,calcInsCard.showModal=!1,calcInsCard.labels=label.getLabels(),calcInsCard.savedProtections=[],calcInsCard.showPopover=!1,calcInsCard.useRelatedLoan=!1,calcInsCard.closePopover=function closePopover(){calcInsCard.currentPopoverIndex=-1},calcInsCard.determineCostPerDay=determineCostPerDay,calcInsCard.displayCostPerDay=function displayCostPerDay(savedProtection){if(savedProtection.attributes.multipleCostsPerDay)return"$"+savedProtection.attributes.minCostPerDay+" - $"+savedProtection.attributes.maxCostPerDay;if(null==savedProtection.attributes.minCostPerDay||0==savedProtection.attributes.minCostPerDay)return"$0.00";return"$"+savedProtection.attributes.minCostPerDay},calcInsCard.displayWarningMessage=function displayWarningMessage(){messageService.setMessage({type:messageService.messageTypes.warning,text:calcInsCard.labels.Credit_Protections_Adjustment_Warning_Message,canDismiss:!0},!0)},calcInsCard.getInsuranceCostData=getInsuranceCostData,calcInsCard.handleErrors=handleErrors,calcInsCard.loadCreditProtections=loadCreditProtections,calcInsCard.loadProtectionProducts=loadProtectionProducts,calcInsCard.openModal=function openModal(){calcInsCard.showModal=!0},calcInsCard.openModalKeydown=function openModalKeydown(event){13==event.which&&(calcInsCard.showModal=!0)},calcInsCard.togglePopover=function togglePopover(index){calcInsCard.currentPopoverIndex===index?calcInsCard.currentPopoverIndex=-1:calcInsCard.currentPopoverIndex=index},calcInsCard.$onInit=function(){void 0!==calcInsCard.invokeRecalc&&(calcInsCard.useRelatedLoan=!calcInsCard.invokeRecalc),loadProtectionProducts().then((protectionsDto=>loadCreditProtections())).catch((e=>handleErrors(e))).finally((()=>{calcInsCard.insuranceCardLoaded=!0}))},$scope.$on("reload insurance card",(function(){calcInsCard.savedProtections=[],$timeout((function(){$scope.$apply()}))}))}],template:__webpack_require__(7246)})}()},2913:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{!function(){"use strict";angular.module("ncOffers").component("calculateInsuranceModal",{bindings:{calcInsCard:"=",showModal:"=",savedProtections:"="},controllerAs:"calcInsModal",controller:["$scope","config","constants","label","ui","messageService","offersService","$q",function($scope,config,constants,label,ui,messageService,offersService,$q){var calcInsModal=this;function closeModal(){calcInsModal.calcInsCard.showModal=!1}function determineCostPerDay(protectionsDto,protectionsArray){for(let protection of protectionsDto){let foundProtection=protectionsArray.find((o=>o.identity===protection.attributes.LLC_BI__Product__c.value));if(foundProtection){protection.attributes.productName=foundProtection.attributes.Name;let existingProtection=calcInsModal.calcInsCard.savedProtections.find((o=>o.attributes.productName===foundProtection.attributes.Name)),dropCode=protection.attributes.LLC_BI__Drop_Code__c.value,costPerDay=protection.attributes.LLC_BI__Cost_Per_Day__c.value,hasOneDropped=!1;if(protection.attributes.LLC_BI__Coverage_Result__c.value===constants.COVERAGE_RESULTS.PARTIALLY_APPLIED&&calcInsModal.displayWarningMessage(),0!=dropCode?(hasOneDropped=!0,calcInsModal.displayWarningMessage()):costPerDay=costPerDay?costPerDay.toFixed(2):0,(hasOneDropped||protection.attributes.LLC_BI__Coverage_Result__c.value===constants.COVERAGE_RESULTS.PARTIALLY_APPLIED)&&(existingProtection&&(existingProtection.attributes.hasOneDropped=!0),calcInsModal.droppedNames.push(protection.attributes.productName)),existingProtection&&void 0===existingProtection.attributes.LLC_BI__Cost_Per_Day__c.value&&protection.attributes.LLC_BI__Cost_Per_Day__c.value>=0){protection.attributes.multipleCostsPerDay=!1,protection.attributes.minCostPerDay=costPerDay,protection.attributes.maxCostPerDay=costPerDay,protection.attributes.noRemainingProtections=!1,calcInsModal.droppedNames.includes(protection.attributes.productName)&&(protection.attributes.hasOneDropped=!0);let index=calcInsModal.calcInsCard.savedProtections.indexOf(existingProtection);index>-1&&(calcInsModal.calcInsCard.savedProtections[index]=protection)}else if(existingProtection){let{minCostPerDay,maxCostPerDay}=existingProtection.attributes;(Number(costPerDay)<minCostPerDay||Number(costPerDay)>maxCostPerDay)&&(existingProtection.attributes.multipleCostsPerDay=!0,costPerDay<minCostPerDay?existingProtection.attributes.minCostPerDay=costPerDay:existingProtection.attributes.maxCostPerDay=costPerDay)}else protection.attributes.multipleCostsPerDay=!1,protection.attributes.minCostPerDay=costPerDay,protection.attributes.maxCostPerDay=costPerDay,calcInsModal.droppedNames.includes(protection.attributes.productName)&&(protection.attributes.hasOneDropped=!0),calcInsModal.calcInsCard.savedProtections.push(protection)}}!function checkIfAllProtectionsDropped(){for(let savedProtection of calcInsModal.calcInsCard.savedProtections)savedProtection.attributes.noRemainingProtections=!(savedProtection.attributes.LLC_BI__Cost_Per_Day__c?.value>=0)}()}function displaySearchList(){if(calcInsModal.searchString.length){calcInsModal.displaySearchCombobox=!0;document.querySelector("#search-input-dropdown").style.display="block"}}function handlePostSaveActions(hasOffers){messageService.clear();let protectionsArray=[];calcInsModal.calcInsCard.savedProtections=[],function determineIfRecalculate(){return calcInsModal.calcInsCard.invokeRecalc?offersService.recalculateOffersWithCreditProtections():$q.resolve()}().then((function(){return offersService.loadProtectionProducts()})).then((function(protectionsDto){return protectionsArray=protectionsDto.records,offersService.loadCreditProtections(calcInsModal.useRelatedLoan)})).then((function(protectionsDto){determineCostPerDay(protectionsDto,protectionsArray),hasOffers&&calcInsModal.calcInsCard.offers.reloadOffersCards()})).catch((event=>{handleError(event)})).finally((function(){calcInsModal.calcInsCard.$onInit(),ui.unblock()}))}function hideSearchList(){calcInsModal.displaySearchCombobox=!1}function handleError(event){messageService.setMessage({type:messageService.messageTypes.error,text:event,canDismiss:!0},!0)}function nextScreen(){calcInsModal.showAddInsuranceScreen=!1,calcInsModal.showBorrowersScreen=!0}function previousScreen(){calcInsModal.showAddInsuranceScreen=!0,calcInsModal.showBorrowersScreen=!1}function saveModal(){closeModal(),ui.block();let hasOffers=calcInsModal.calcInsCard?.offers?.offers?.length>0;calcInsModal.protectionsArray.forEach((protection=>{protection.isToggled&&(protection.isActive?calcInsModal.protectionsToSave.push(protection.identity):calcInsModal.protectionsToRemove.push(protection.identity))})),0!==calcInsModal.protectionsToSave.length?offersService.saveCreditProtections(calcInsModal.protectionsToSave,calcInsModal.useRelatedLoan).then((()=>{hasOffers&&offersService.setAPRWithoutProtections(),0!==calcInsModal.protectionsToRemove.length&&offersService.removeCreditProtections(calcInsModal.protectionsToRemove,calcInsModal.useRelatedLoan),handlePostSaveActions(hasOffers)})).catch((event=>{handleError(event),ui.unblock()})):0!==calcInsModal.protectionsToRemove.length?(offersService.removeCreditProtections(calcInsModal.protectionsToRemove,calcInsModal.useRelatedLoan),handlePostSaveActions(hasOffers)):ui.unblock()}function selectSearchedItem(protection){toggleProtectionSelection(protection),calcInsModal.displaySearchCombobox=!1,calcInsModal.searchString=protection.attributes.Name,calcInsModal.searchArray=[]}function toggleProtectionSelection(protection){protection.isActive=!protection.isActive,protection.isToggled=!protection.isToggled,function updateSelectedCount(isActive){isActive?calcInsModal.itemsSelectedCount++:calcInsModal.itemsSelectedCount--}(protection.isActive),function updateSelectedItemsMap(protection){protection.isActive?calcInsModal.selectedItemsMap.set(protection.identity,protection):calcInsModal.selectedItemsMap.delete(protection.identity)}(protection),function updatePillsArray(protection){if(protection.isActive)calcInsModal.protectionsPillsArray.push(protection);else{const index=calcInsModal.protectionsPillsArray.indexOf(protection);calcInsModal.protectionsPillsArray.splice(index,1)}}(protection)}calcInsModal.borrowers=[],calcInsModal.displaySearchCombobox=!1,calcInsModal.droppedNames=[],calcInsModal.itemsSelectedCount,calcInsModal.labels=label.getLabels(),calcInsModal.loadCreditProtectionsComplete=!1,calcInsModal.protectionsArray=[],calcInsModal.protectionsPillsArray=[],calcInsModal.protectionsToRemove=[],calcInsModal.protectionsToSave=[],calcInsModal.searchArray=[],calcInsModal.searchString="",calcInsModal.selectedItemsMap=new Map,calcInsModal.showAddInsuranceScreen=!0,calcInsModal.showBorrowersScreen=!1,calcInsModal.borrowerIsChecked=function borrowerIsChecked(isJoint,index){return!((isJoint="true"===isJoint)&&this.borrowers.length>2)&&(!(!isJoint||0!=index&&1!=index)||!isJoint&&0==index)},calcInsModal.closeModal=closeModal,calcInsModal.determineCostPerDay=determineCostPerDay,calcInsModal.displaySearchList=displaySearchList,calcInsModal.displayWarningMessage=function displayWarningMessage(){messageService.setMessage({type:messageService.messageTypes.warning,text:calcInsModal.labels.Credit_Protections_Adjustment_Warning_Message,canDismiss:!0},!0)},calcInsModal.getEstimatedTotalCost=function getEstimatedTotalCost(protection){const dailyCost=protection?.attributes?.LLC_BI__Cost_Per_Day__c;if(!dailyCost)return;return(dailyCost*constants.TIME_PERIODS.DAYS_IN_MONTH*constants.TIME_PERIODS.NUM_OF_MONTHS).toLocaleString([],{minimumFractionDigits:2,maximumFractionDigits:2})},calcInsModal.handleCloseModalKeydown=function handleCloseModalKeydown(event){event.key===constants.KEYBOARD.SPACE&&closeModal()},calcInsModal.handleError=handleError,calcInsModal.handleNextButtonKeydown=function handleNextButtonKeydown(event){event.key===constants.KEYBOARD.SPACE&&nextScreen()},calcInsModal.handlePostSaveActions=handlePostSaveActions,calcInsModal.handlePreviousButtonKeydown=function handlePreviousButtonKeydown(event){event.key===constants.KEYBOARD.SPACE&&previousScreen()},calcInsModal.handleSaveModalKeydown=function handleSaveModalKeydown(event){event.key===constants.KEYBOARD.SPACE&&saveModal()},calcInsModal.handleSelectSearchedItemKeydown=function handleSelectSearchedItemKeydown(event,protection){const activeElement=document.activeElement;if(!activeElement||!activeElement.parentElement)return;const focusableElements=activeElement.parentElement.querySelectorAll("li"),firstFocusableElement=focusableElements[0],lastFocusableElement=focusableElements[focusableElements.length-1];switch(event.key){case constants.KEYBOARD.ENTER:selectSearchedItem(protection);break;case constants.KEYBOARD.ARROW_DOWN:null==activeElement.nextElementSibling?firstFocusableElement.focus():activeElement.nextElementSibling.focus();break;case constants.KEYBOARD.ARROW_UP:null==activeElement.previousElementSibling?lastFocusableElement.focus():activeElement.previousElementSibling.focus();break;case constants.KEYBOARD.TAB:event.shiftKey?activeElement===firstFocusableElement&&(event.preventDefault(),lastFocusableElement.focus()):activeElement===lastFocusableElement&&(event.preventDefault(),firstFocusableElement.focus())}},calcInsModal.handleCheckboxKeydown=function handleCheckboxKeydown(event,protection){event.key===constants.KEYBOARD.SPACE&&toggleProtectionSelection(protection)},calcInsModal.hideSearchList=hideSearchList,calcInsModal.navigateIntoDropdown=function navigateIntoDropdown(event){const dropdownMenu=document.querySelector("#search-input-dropdown");if(event.key===constants.KEYBOARD.ARROW_DOWN){if(dropdownMenu){const firstItem=dropdownMenu.querySelector('[role="option"]');firstItem&&firstItem.focus()}}else event.key===constants.KEYBOARD.ESCAPE&&(dropdownMenu.style.display="none")},calcInsModal.nextScreen=nextScreen,calcInsModal.previousScreen=previousScreen,calcInsModal.saveModal=saveModal,calcInsModal.selectSearchedItem=selectSearchedItem,calcInsModal.setIsActiveStatus=function setIsActiveStatus(){offersService.loadCreditProtections(calcInsModal.useRelatedLoan).then((function(protectionsDto){let productIds=[];for(let protection of protectionsDto)productIds.push(protection.attributes.LLC_BI__Product__c.value);for(let product of calcInsModal.protectionsArray)product.isActive=!1,productIds.includes(product.identity)&&toggleProtectionSelection(product),product.isToggled=!1;calcInsModal.loadCreditProtectionsComplete=!0}))},calcInsModal.toggleProtectionSelection=toggleProtectionSelection,calcInsModal.trapFocus=function trapFocus(){const element=document.querySelector("calculate-insurance-modal");if(!element)return;const focusableElements=element.querySelectorAll(constants.FOCUSABLE_ELEMENTS_SELECTOR),firstFocusableElement=focusableElements[0],lastFocusableElement=focusableElements[focusableElements.length-1];element.addEventListener("keydown",(function(e){e.key===constants.KEYBOARD.TAB&&(e.shiftKey?document.activeElement===firstFocusableElement&&(lastFocusableElement.focus(),e.preventDefault()):document.activeElement===lastFocusableElement&&(firstFocusableElement.focus(),e.preventDefault()))})),firstFocusableElement.focus()},calcInsModal.updateSearch=function updateSearch(){calcInsModal.searchString.length?displaySearchList():hideSearchList();let filteredProducts=[];for(const product of calcInsModal.protectionsArray)product.attributes.Name.toLowerCase().includes(calcInsModal.searchString.toLowerCase())&&filteredProducts.push(product);calcInsModal.searchArray=filteredProducts},calcInsModal.$onInit=function(){void 0!==calcInsModal.calcInsCard.invokeRecalc&&(calcInsModal.useRelatedLoan=!calcInsModal.calcInsCard.invokeRecalc),calcInsModal.trapFocus(),calcInsModal.itemsSelectedCount=0,offersService.loadProtectionProducts().then((function(protectionsDto){calcInsModal.protectionsArray=protectionsDto.records,calcInsModal.setIsActiveStatus()})),offersService.loadBorrowers().then((function(borrowersDto){calcInsModal.borrowers=borrowersDto}))}}],template:__webpack_require__(9521)})}()},9739:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{!function(){"use strict";angular.module("ncOffers").component("offers",{controllerAs:"offers",controller:["$scope","config","label","ui","pubsub","navigator","messageService","offersService",function($scope,config,label,ui,pubsub,navigator,messageService,offersService){var offers=this;function buildFieldSetPayload(identities,contextType){return{filters:{identities,contextType}}}function adjustMetadata(metadata){return metadata.map((function(field){return~field.fieldPath.indexOf(".")&&(field.fieldPath=field.fieldPath.split(".")[1]),field}))}function resetScorecard(scorecardsDto){scorecardsDto.records.length>0&&(offers.scorecard=scorecardsDto.records[0],offers.scorecard.attributes.LLC_BI__Description__c&&(offers.reason=offers.scorecard.attributes.LLC_BI__Description__c))}offers.config=config.get(),offers.labels=label.getLabels(),offers.messageService=messageService,offers.navigator=navigator,offers.pubsub=pubsub,offers.collapsedCardMetadata=[],offers.combinedStreamsMetadata=[],offers.displayRecalculateOffers=offers.config.recalculateOffersFieldSet&&offers.config.recalculateOffersFieldSet.length>0,offers.doneLoadingInsurances=!1,offers.expandedCardMetadata=[],offers.hasProtectionModifyPerms=offers.config.hasProtectionModifyPerms,offers.insuranceCostData=new Map,offers.loaded=!1,offers.loadedCardMetadata=!1,offers.loanAmount=offers.config.loanAmount,offers.noOffersImageSrc=offers.config.noOffersImageSrc,offers.offers=[],offers.offerSelected=!1,offers.offerSorting=offers.config.defaultOfferSorting,offers.offerSortingOptions=offers.config.offerSortingOptions,offers.paymentStreamsMetadata=[],offers.rateStreamsMetadata=[],offers.reason=null,offers.scorecard=null,offers.showCreditProtection=offers.config.showCreditProtection,offers.$onInit=function(){offers.displayTopBarComponents(),offersService.retrieveOffers().then((function(offersDto){offers.offers=offersDto.records,offers.prepareFieldSetMetaData(),0===offers.offers.length?offersService.retrieveScorecard().then((function(scorecardsDto){resetScorecard(scorecardsDto),console.log("There are no offers available within Matrix Manager for this loan. Please review the Base Rate Matrix in Matrix Manager to ensure there are no offers for this scenario."),offers.loaded=!0})):(offers.setContinueButtonActive(!!offersService.getSelectedOffer()),offers.loaded=!0)}))},offers.reloadInsuranceCard=function(){$scope.$broadcast("reload insurance card")},offers.displayTopBarComponents=function(){offers.pubsub.publish(offers.pubsub.topics.ANCHOR_SET,{link:offers.config.topBarLink,text:offers.config.topBarText,src:offers.config.topBarIcon,background:offers.config.topBarIconBackground}),offers.pubsub.publish(LifeCycle.Topics.GlobalActionButtonHandler.HIDE_CONTINUE),offers.pubsub.publish(offers.pubsub.topics.PRIMARY_BUTTON_SET,{rendered:!0,disabled:!0,icon:"utility:forward",iconPosition:"right",text:offers.labels.Continue,styleClass:"slds-button slds-button_neutral",onClick:function(){offersService.getSelectedOffer()?offers.navigateToNextUrl():(offers.displayErrorMessage(offers.labels.No_Offer_Selected_Message),$scope.$apply())}})},offers.reloadOffersCards=function(){offers.$onInit(),pubsub.publish(offers.config.constants.NEW_OFFERS_LOADED,offers.offers)},offers.navigateToNextUrl=function(){var nextHref=offers.config.nextHref;nextHref?offers.navigator.navigateToRoute(nextHref):navigator.isSF1App()?window.top.location.href="/one/one.app#sObject/"+offers.config.contextId+"/view":offers.navigator.navigateToSObject(offers.config.contextId,null)},offers.hydrateNumberLabel=function(label,number){return label.replace("{#}",number)},offers.formatCurrency=function(number){return LifeCycle.Internationalize.format(number,LifeCycle.Internationalize.formats.numeric.CURRENCY)},offers.getOfferSortingField=function(offer){return parseFloat(offer.attributes[offers.offerSorting])},offers.setContinueButtonActive=function(enabled){pubsub.publish(offers.config.constants.PRIMARY_BUTTON_SET,{disabled:!enabled})},offers.displayErrorMessage=function(errorMessage){offers.messageService.setMessage({type:offers.messageService.messageTypes.error,text:errorMessage,canDismiss:!0},!0)},offers.applyOffer=function(offer){offer&&ui.block(),offersService.setSelectedOffer(offer).then((function(){offers.setContinueButtonActive(!!offer)})).catch(offers.displayErrorMessage).finally((function(){offer&&ui.unblock()}))},offers.removeProductData=function(offer){return offer&&(offer.attributes=Object.keys(offer.attributes).reduce((function(attributes,attributeName){return-1===attributeName.indexOf("Product__r")&&(attributes[attributeName]=offer.attributes[attributeName]),attributes}),{})),offer},offers.prepareFieldSetMetaData=function(){var fieldSetPayload=buildFieldSetPayload([offers.config.collapsedOfferCardFieldSet,offers.config.expandedOfferCardFieldSet],offers.config.constants.PRICING_OPTION_CONTEXT_TYPE),rateStreamsFieldSetPayload=buildFieldSetPayload([offers.config.rateStreamsFieldSet],"LLC_BI__Pricing_Rate_Component__c"),paymentStreamsFieldSetPayload=buildFieldSetPayload([offers.config.paymentStreamsFieldSet],"LLC_BI__Pricing_Payment_Component__c");try{offersService.loadFieldSetMetadata(fieldSetPayload).then((function(metadata){return offers.collapsedCardMetadata=metadata.fieldSetMetadataMap[offers.config.collapsedOfferCardFieldSet],offers.expandedCardMetadata=metadata.fieldSetMetadataMap[offers.config.expandedOfferCardFieldSet],offersService.loadFieldSetMetadata(rateStreamsFieldSetPayload)})).then((function(metadata){return offers.rateStreamsMetadata=adjustMetadata(metadata.fieldSetMetadataMap[offers.config.rateStreamsFieldSet]),offersService.loadFieldSetMetadata(paymentStreamsFieldSetPayload)})).then((function(metadata){offers.paymentStreamsMetadata=adjustMetadata(metadata.fieldSetMetadataMap[offers.config.paymentStreamsFieldSet]),offers.combinedStreamsMetadata=offers.paymentStreamsMetadata.concat(offers.rateStreamsMetadata),offers.loadedCardMetadata=!0}))}catch(ex){offers.displayErrorMessage(ex.message)}},pubsub.subscribe(offers.config.constants.OFFER_SELECTED,(function(offer){offers.applyOffer(offers.removeProductData(offer))})),pubsub.subscribe(offers.config.constants.NEW_OFFERS_LOADED,(function(offersDto){offers.offers=offersDto.records})),pubsub.subscribe(offers.config.constants.NEW_SCORECARD_LOADED,resetScorecard),pubsub.subscribe(offers.config.constants.NEW_LOAN_AMOUNT_LOADED,(function(loanAmount){offers.loanAmount=loanAmount}))}],template:__webpack_require__(7901)})}()},6669:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{!function(){"use strict";angular.module("ncOffers").component("offersCard",{bindings:{collapsedCardMetadata:"<",combinedStreamsMetadata:"<",doneLoadingInsurances:"=",expandedCardMetadata:"<",insuranceCostData:"=",offer:"=",offerSelected:"="},controllerAs:"offersCard",controller:["config","constants","label","pubsub","offersService","messageService","$scope",function(config,constants,label,pubsub,offersService,messageService,$scope){var offersCard=this;offersCard.config=config.get(),offersCard.labels=label.getLabels(),offersCard.messageService=messageService,offersCard.pubsub=pubsub,offersCard.combinedStreams,offersCard.insuranceCostData=new Map,offersCard.isRetailPricingEnabled=offersCard.config.isRetailPricingEnabled,offersCard.loaded=!1,offersCard.paymentStreams=[],offersCard.rateStreams=[],offersCard.showContent=!1,offersCard.showPopover=!1,offersCard.$onInit=function(){offersCard.offer.isSelected&&(offersCard.offerSelected=!0),offersCard.formatOfferAttributes(3),offersCard.loaded=!0,offersCard.ratesLoaded=!1,offersCard.isRetailPricingEnabled&&Promise.all([offersService.loadRateStreams([offersCard.offer.identity]),offersService.loadPaymentStreams([offersCard.offer.identity])]).then((results=>{offersCard.rateStreams=results[0],offersCard.paymentStreams=results[1],offersCard.joinStreamComponents()})).catch((ex=>{offersCard.displayErrorMessage(ex.message)})).finally((()=>{$scope.$apply((function(){offersCard.formatRateStreamAttributes(3),offersCard.ratesLoaded=!0}))}))},offersCard.generateCautionMessage=function(){const offerId=this.offer.identity,insuranceData=this.insuranceCostData?.get(offerId),droppedProducts=insuranceData?.droppedProducts??new Map,hasDropped=droppedProducts.size>0;let message="",currMsg="",dropLabel=offersCard.labels.Credit_Protections_Caution_Icon_Drop_Reason;if(hasDropped)for(let[productName,dropReason]of droppedProducts.entries())currMsg=dropLabel.replace("{0}",productName).replace("{1}",dropReason),message+=currMsg+" ";return message},offersCard.showInsuranceSection=function(){return offersCard.insuranceCostData.size>0},offersCard.showCautionIcon=function(){let offerId=offersCard.offer.identity;return offersCard.insuranceCostData.get(offerId).droppedProducts.size>0},offersCard.formatCurrency=function(attribute){let amount,offerId=offersCard.offer.identity;switch(attribute){case"totalLoanAmount":amount=offersCard.offer.attributes.LLC_BI__Amount_Financed__c;break;case"monthlyPmt":amount=offersCard.offer.attributes.LLC_BI__Monthly_Payment__c;break;case"originalLoanAmount":amount=offersCard.offer.attributes["LLC_BI__Loan__r.LLC_BI__Amount__c"];break;case"totalInsuranceCost":offersCard.insuranceCostData&&offersCard.insuranceCostData.get(offerId)&&(amount=offersCard.insuranceCostData.get(offerId).totalCost);break;case"aggDailyCost":offersCard.insuranceCostData&&offersCard.insuranceCostData.get(offerId)&&(amount=offersCard.insuranceCostData.get(offerId).dailyCost);break;default:return}return amount?"$"+parseFloat(amount).toLocaleString([],{minimumFractionDigits:2,maximumFractionDigits:2}):offersCard.labels.Null_Placeholder},offersCard.formatOfferAttributes=function(digits){for(let i=0;i<offersCard.collapsedCardMetadata.length;i++)if("PERCENT"==offersCard.collapsedCardMetadata[i].fieldType&&offersCard.collapsedCardMetadata[i].scale>=digits){var fieldPath=offersCard.collapsedCardMetadata[i].fieldPath;null!=offersCard.offer.attributes[fieldPath]&&"undefined"!==offersCard.offer.attributes[fieldPath]&&(offersCard.offer.attributes[fieldPath]=offersCard.truncateDecimal(offersCard.offer.attributes[fieldPath],digits),offersCard.collapsedCardMetadata[i].scale=digits)}for(let i=0;i<offersCard.expandedCardMetadata.length;i++)if("PERCENT"==offersCard.expandedCardMetadata[i].fieldType&&offersCard.expandedCardMetadata[i].scale>=digits){fieldPath=offersCard.expandedCardMetadata[i].fieldPath;null!=offersCard.offer.attributes[fieldPath]&&"undefined"!==offersCard.offer.attributes[fieldPath]&&(offersCard.offer.attributes[fieldPath]=offersCard.truncateDecimal(offersCard.offer.attributes[fieldPath],digits),offersCard.expandedCardMetadata[i].scale=digits)}},offersCard.formatRateStreamAttributes=function(digits){for(let i=0;i<offersCard.combinedStreamsMetadata.length;i++)if("PERCENT"==offersCard.combinedStreamsMetadata[i].fieldType&&offersCard.combinedStreamsMetadata[i].scale>=digits){var fieldPath=offersCard.combinedStreamsMetadata[i].fieldPath;for(let j=0;j<offersCard.combinedStreams.length;j++){var field;null!=(field=offersCard.combinedStreams[j].streamComponents[1].attributes[fieldPath])&&"undefined"!==field&&(offersCard.combinedStreams[j].streamComponents[1].attributes[offersCard.combinedStreamsMetadata[i].fieldPath]=offersCard.truncateDecimal(field,digits)),null!=(field=offersCard.combinedStreams[j].streamComponents[0].attributes[fieldPath])&&"undefined"!==field&&(offersCard.combinedStreams[j].streamComponents[0].attributes[offersCard.combinedStreamsMetadata[i].fieldPath]=offersCard.truncateDecimal(field,digits))}offersCard.combinedStreamsMetadata[i].scale=digits}},offersCard.truncateDecimal=function(decimal,digits){var regEx=new RegExp("(^-?\\d+\\.\\d{"+digits+"})(\\d)"),matchData=decimal.match(regEx);return matchData?matchData[1]:decimal},offersCard.joinStreamComponents=function(){let combinedStreams=[];for(let i=0;i<offersCard.paymentStreams.length;i++){let combinedStream=offersCard.paymentStreams[i];combinedStream.streamComponents=offersCard.paymentStreams[i].streamComponents.concat(offersCard.rateStreams[i].streamComponents),combinedStreams.push(combinedStream)}offersCard.combinedStreams=combinedStreams},offersCard.toggleExpansion=function(){offersCard.showContent=offersCard.isDisabled()===offersCard.showContent},offersCard.handleToggleExpansionKeydown=function(event){event.key===constants.KEYBOARD.SPACE&&(event.preventDefault(),offersCard.showContent=offersCard.isDisabled()===offersCard.showContent)},offersCard.togglePopover=function(){offersCard.showPopover=!offersCard.showPopover},offersCard.handleTogglePopoverKeydown=function(event){event.key===constants.KEYBOARD.SPACE&&(offersCard.showPopover=!offersCard.showPopover)},offersCard.closePopover=function(){offersCard.showPopover=!1},offersCard.handleClosePopoverKeydown=function(event){event.key===constants.KEYBOARD.SPACE&&(offersCard.showPopover=!1)},offersCard.changeSelectedState=function(event){var state=event?event.detail:event;offersCard.offer.isSelected=state,offersCard.offerSelected=!0,offersCard.pubsub.publish(offersCard.config.constants.OFFER_SELECTED,state?offersCard.offer:null)},offersCard.displayErrorMessage=function(errorMessage){offersCard.messageService.setMessage({type:offersCard.messageService.messageTypes.error,text:errorMessage,canDismiss:!0},!0)},offersCard.isDisabled=function(){return null!=offersService.getSelectedOffer()&&!offersCard.offer.isSelected},offersCard.getCardDisabledClasses=function(){return offersCard.isDisabled()?"offer-card-disabled":""},offersCard.getCardExpandedClasses=function(){return offersCard.showContent?"slds-is-open offer-border-expanded":""},offersCard.getIconClasses=function(){return"slds-section__title-action-icon"+(offersCard.isDisabled()?" action-icon-disabled":"")},offersCard.buildHomeLendingCalculationsMessage=function(){var message=[],attributes=offersCard.offer.attributes;if("true"===attributes.LLC_BI__Is_HCM__c){if(message.push(offersCard.labels.HCM),"true"===attributes.LLC_BI__HCM_APOR_Test__c){var hcmAporPercent=offersCard.labels.APOR_Percent,hcmSpreadPercent=offersCard.labels.Spread_Percent;message.push(offersCard.labels.APOR_Spread_Exceeded,hcmAporPercent.replace("{0}",attributes.LLC_BI__HCM_APOR__c),hcmSpreadPercent.replace("{0}",attributes.LLC_BI__HCM_APOR_Spread__c),"<br/>")}if("true"===attributes.LLC_BI__HCM_Points_And_Fees_Test__c){var totalPointsAndFees=offersCard.labels.Total_Points_and_Fees,maxPointsAndFees=offersCard.labels.Maximum_Points_and_Fees;message.push(offersCard.labels.Points_and_Fees_Amount_Exceeded,totalPointsAndFees.replace("{0}",attributes.LLC_BI__Total_Points_And_Fees__c),maxPointsAndFees.replace("{0}",attributes.LLC_BI__HCM_Maximum_Points_And_Fees__c),"<br/>")}}if("true"===attributes.LLC_BI__Is_HPML__c){1===message.length&&message.push("<br/>");var hpmlAporPercent=offersCard.labels.APOR_Percent,hpmlSpreadPercent=offersCard.labels.Spread_Percent;message.push(offersCard.labels.HPML,offersCard.labels.APOR_Spread_Exceeded,hpmlAporPercent.replace("{0}",attributes.LLC_BI__HPML_APOR__c),hpmlSpreadPercent.replace("{0}",attributes.LLC_BI__HPML_APOR_Spread__c))}return"<br/>"===message[message.length-1]&&message.pop(),message}}],template:__webpack_require__(5275)})}()},101:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{!function(){"use strict";angular.module("ncOffers").component("recalculateOffers",{bindings:{reloadInsuranceCard:"&"},controllerAs:"recalculateOffers",controller:["$scope","config","label","ui","messageService","offersService",function($scope,config,label,ui,messageService,offersService){var recalculateOffers=this;recalculateOffers.config=config.get(),recalculateOffers.labels=label.getLabels(),recalculateOffers.recalculateOfferFormChanged=!1,recalculateOffers.loaded=!1,recalculateOffers.fieldSetName=recalculateOffers.config.recalculateOffersFieldSet,recalculateOffers.fieldSetContextType=recalculateOffers.config.isMortgage?recalculateOffers.config.constants.MORTGAGE_CONTEXT_TYPE:recalculateOffers.config.constants.LOAN_CONTEXT_TYPE,recalculateOffers.form={entity:{},metadata:[]},recalculateOffers.$onInit=function(){if(recalculateOffers.fieldSetName){var fieldSetPayload={filters:{identities:[recalculateOffers.fieldSetName],contextType:recalculateOffers.fieldSetContextType}};offersService.loadFieldSetMetadata(fieldSetPayload).then((function(metadata){recalculateOffers.form.metadata=metadata.fieldSetMetadataMap[recalculateOffers.fieldSetName],offersService.retrieveRecalculateRecord().then((function(dto){dto.records.length>0&&(recalculateOffers.form.entity=dto.records[0]),recalculateOffers.loaded=!0}))}))}},recalculateOffers.recalculateOffers=function(){ui.block(),offersService.recalculateOffers({records:[recalculateOffers.form.entity]}).then((function(){recalculateOffers.recalculateOfferFormChanged=!1,recalculateOffers.reloadInsuranceCard()})).catch((function(error){messageService.setMessage({canDismiss:!0,type:messageService.messageTypes.error,text:error},!0),$scope.$apply()})).finally(ui.unblock)},recalculateOffers.handleFormChange=function($event){var data=$event.originalEvent.detail;recalculateOffers.form.entity.attributes[data.fieldPath]=data.value,recalculateOffers.recalculateOfferFormChanged=!0}}],template:__webpack_require__(2459)})}()},8639:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{!function(){"use strict";angular.module("ncOffers").component("streamsTable",{bindings:{streams:"<",metadata:"<",isLoaded:"="},controllerAs:"streamsTable",controller:[function(){var streamsTable=this;streamsTable.$onInit=function(){streamsTable.fieldsHaveValue()},streamsTable.fieldsHaveValue=function(){for(var i=0;i<streamsTable.metadata.length;i++){var field=streamsTable.metadata[i];field.hasFieldValue=streamsTable.checkStreamsForValue(field)}},streamsTable.checkStreamsForValue=function(field){for(var i=0;i<streamsTable.streams.length;i++){var stream=streamsTable.streams[i];if(stream.attributes[field.fieldPath])return!0;if(streamsTable.checkStreamComponentForValue(field,stream))return!0}return!1},streamsTable.checkStreamComponentForValue=function(field,stream){for(var i=0;i<stream.streamComponents.length;i++){if(stream.streamComponents[i].attributes[field.fieldPath])return!0}return!1}}],template:__webpack_require__(3704)})}()},2862:()=>{!function(){"use strict";angular.module("ncOffers").constant("constants",{COVERAGE_RESULTS:{PARTIALLY_APPLIED:"Partially Applied"},FOCUSABLE_ELEMENTS_SELECTOR:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])',KEYBOARD:{ARROW_DOWN:"ArrowDown",ARROW_UP:"ArrowUp",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",TAB:"Tab"},TIME_PERIODS:{DAYS_IN_MONTH:30,NUM_OF_MONTHS:36}})}()},7893:()=>{!function(){"use strict";angular.module("ncOffers").service("offersService",(function OffersService(config,$q,remotingManager,pubsub){var service=this,configData=config.get(),selectedOffer=null,selectedOfferId=configData.selectedOfferId||null,isMortgage=configData.isMortgage;function runAutoDecision(){return invokeRemoteAction(configData.endpoints.runAutoDecision,{loanId:configData.contextId})}var useRelatedPricingOptions=!0;function loadStreams(resource,identities,fieldSets){return $q((function(resolve,reject){invokeRemoteAction(resource,{args:JSON.stringify({fieldSets,filters:{identities}})}).then((function(streams){resolve(streams)})).catch((function(error){reject(error)}))}))}function retrieveOffers(){return $q((function(resolve,reject){invokeRemoteAction(configData.endpoints.retrieveOffers,{args:JSON.stringify({loanId:configData.contextId,fieldSetNames:[configData.collapsedOfferCardFieldSet,configData.expandedOfferCardFieldSet]})}).then((function(offersDto){var offersRecords=offersDto.records;selectedOffer=null,selectedOfferId&&(selectedOffer=offersRecords.find((function(offerRecord){return selectedOfferId===offerRecord.identity})))&&(selectedOffer.isSelected=!0),resolve(offersDto)})).catch(reject)}))}function retrieveScorecard(){return invokeRemoteAction(configData.endpoints.retrieveScorecard,{loanId:configData.contextId})}function calculateNewMortgageInsuranceEstimate(){return invokeRemoteAction(configData.endpoints.calculateNewMortgageInsuranceEstimate,{loanId:configData.contextId})}function generateNewOffers(){return invokeRemoteAction(configData.endpoints.generateNewOffers,{loanId:configData.contextId})}function calculateOffersDTI(){return invokeRemoteAction(configData.endpoints.calculateOffersDTI,{loanId:configData.contextId})}function filterOffersByDTI(){return $q((function(resolve,reject){invokeRemoteAction(configData.endpoints.filterOffersByDTI,{loanId:configData.contextId}).then((function(data){resolve(data),service.offersFilteredByDti=data})).catch((function(error){reject(error)}))}))}function retrieveOffersForComplianceCalculation(){return $q((function(resolve,reject){invokeRemoteAction(configData.endpoints.retrieveOffersForComplianceCalculation,{loanId:configData.contextId}).then((function(data){resolve(data),service.offersFilteredByDti=data})).catch((function(error){reject(error)}))}))}function calculateAllOffers(offers){var promises=offers.records.map((function(offer){return invokeRemoteAction(configData.endpoints.calculateOffer,{args:JSON.stringify({offerId:offer.identity})})}));return $q.all(promises)}function calculateHcm(){var promises=service.offersFilteredByDti.processHCM.map((function(offerId){return invokeRemoteAction(configData.endpoints.calculateOffer,{args:JSON.stringify({offerId,processHCM:!0})})}));return $q.all(promises)}function calculateHpml(){var promises=service.offersFilteredByDti.processHPML.map((function(offerId){return invokeRemoteAction(configData.endpoints.calculateOffer,{args:JSON.stringify({offerId,processHPML:!0})})}));return $q.all(promises)}function updateScorecard(offers){var deferred=$q.defer();return 0===offers.records.length?retrieveScorecard().then((function(scorecardsDto){!function resetScorecard(scorecardsDto){pubsub.publish(configData.constants.NEW_SCORECARD_LOADED,scorecardsDto)}(scorecardsDto),deferred.resolve(offers)})):deferred.resolve(offers),deferred.promise}function resetOffers(offers){var deferred=$q.defer();return service.setSelectedOffer(null),pubsub.publish(configData.constants.NEW_OFFERS_LOADED,offers),deferred.resolve()}function retrieveLoanAmount(){return invokeRemoteAction(configData.endpoints.retrieveLoanAmount,{loanId:configData.contextId})}function resetLoanAmount(loanAmount){var deferred=$q.defer();return pubsub.publish(configData.constants.NEW_LOAN_AMOUNT_LOADED,loanAmount),deferred.resolve()}function invokeRemoteAction(endpointAction,endpointParams){var deferred=$q.defer();return remotingManager.invokeAction(configData.endpoints.remoteActionInvoke,endpointAction,endpointParams,(function(results,event){event.status?deferred.resolve(results):deferred.reject(event.message)}),{escape:!1,buffer:!1}),deferred.promise}function validateUseRelatedLoan(useRelatedLoan){null!=useRelatedLoan&&void 0!==useRelatedLoan&&(useRelatedPricingOptions=!useRelatedLoan)}service.loadBorrowers=function loadBorrowers(){return $q((function(resolve,reject){invokeRemoteAction(configData.endpoints.loadBorrowers,{loanId:configData.contextId}).then((function(borrowersDto){resolve(borrowersDto)})).catch((function(error){reject(error)}))}))},service.loadCreditProtections=function loadCreditProtections(useRelatedLoan){return validateUseRelatedLoan(useRelatedLoan),$q((function(resolve,reject){invokeRemoteAction(configData.endpoints.loadCreditProtections,{loanId:configData.contextId,useRelatedPricingOptions}).then((function(protectionsDto){resolve(protectionsDto)})).catch((function(error){reject(error)}))}))},service.loadPaymentStreams=function loadPaymentStreams(identities){return loadStreams(configData.endpoints.loadPaymentStreams,identities,[configData.paymentStreamsFieldSet])},service.loadProtectionProducts=function loadProtectionProducts(){return $q((function(resolve,reject){invokeRemoteAction(configData.endpoints.loadProtectionProducts,{loanId:configData.contextId}).then((function(protectionsDto){resolve(protectionsDto)})).catch((function(error){reject(error)}))}))},service.loadRateStreams=function loadRateStreams(identities){return loadStreams(configData.endpoints.loadRateStreams,identities,[configData.rateStreamsFieldSet])},service.removeCreditProtections=function removeCreditProtections(protectionsToRemove,useRelatedLoan){return validateUseRelatedLoan(useRelatedLoan),invokeRemoteAction(configData.endpoints.removeCreditProtections,{loanId:configData.contextId,protectionsToRemove:JSON.stringify(protectionsToRemove),useRelatedPricingOptions})},service.runAutoDecision=runAutoDecision,service.saveCreditProtections=function saveCreditProtections(protectionsToSave,useRelatedLoan){return validateUseRelatedLoan(useRelatedLoan),invokeRemoteAction(configData.endpoints.saveCreditProtections,{loanId:configData.contextId,protectionsToSave:JSON.stringify(protectionsToSave),useRelatedPricingOptions})},service.calculateHcm=calculateHcm,service.calculateHpml=calculateHpml,service.retrieveOffersForComplianceCalculation=retrieveOffersForComplianceCalculation,service.setAPRWithoutProtections=function setAPRWithoutProtections(){return invokeRemoteAction(configData.endpoints.setAPRWithoutProtections,{loanId:configData.contextId})},service.offersFilteredByDti,service.retrieveOffers=retrieveOffers,service.retrieveScorecard=retrieveScorecard,service.retrieveRecalculateRecord=function(){return invokeRemoteAction(isMortgage?configData.endpoints.retrieveMortgage:configData.endpoints.retrieveLoan,{loanId:configData.contextId,fieldSetName:configData.recalculateOffersFieldSet})},service.recalculateOffers=function(dto){return function updateLoanRecords(dto){return invokeRemoteAction(configData.endpoints.updateLoanRecords,{args:JSON.stringify({dto,fieldSetName:configData.recalculateOffersFieldSet,isMortgage})})}(dto).then(calculateNewMortgageInsuranceEstimate).then(generateNewOffers).then(calculateAllOffers).then(calculateOffersDTI).then(filterOffersByDTI).then(calculateHcm).then(calculateHpml).then(runAutoDecision).then(retrieveOffers).then(updateScorecard).then(resetOffers).then(retrieveLoanAmount).then(resetLoanAmount)},service.recalculateOffersWithCreditProtections=function(){return retrieveOffers().then(calculateAllOffers).then(calculateOffersDTI).then(retrieveOffersForComplianceCalculation).then(calculateHcm).then(calculateHpml)},service.loadFieldSetMetadata=function(params){return invokeRemoteAction(configData.endpoints.loadFieldSetMetadata,{args:JSON.stringify(params)})},service.applyOffer=function(params){return invokeRemoteAction(configData.endpoints.applyOffer,{args:JSON.stringify(params)})},service.getSelectedOffer=function(){return selectedOffer},service.calculatePrepaidInterestForLoan=function(){return invokeRemoteAction(configData.endpoints.calculateOffer,{args:JSON.stringify({offerId:configData.contextId})})},service.setSelectedOffer=function(offer){return $q((function(resolve,reject){if(selectedOffer=offer,selectedOfferId=offer?offer.identity:null,selectedOffer){var payload={loanId:configData.contextId,offer:selectedOffer,fieldSetNames:[configData.collapsedOfferCardFieldSet,configData.expandedOfferCardFieldSet]};service.applyOffer(payload).then((function(shouldCalculatePrepaidInterestForLoan){shouldCalculatePrepaidInterestForLoan&&service.calculatePrepaidInterestForLoan()})).then(resolve,reject)}else resolve()}))}}))}()}},__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={id:moduleId,exports:{}};return __webpack_modules__[moduleId](module,module.exports,__webpack_require__),module.exports}__webpack_require__.n=module=>{var getter=module&&module.__esModule?()=>module.default:()=>module;return __webpack_require__.d(getter,{a:getter}),getter},__webpack_require__.d=(exports,definition)=>{for(var key in definition)__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)&&Object.defineProperty(exports,key,{enumerable:!0,get:definition[key]})},__webpack_require__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop),__webpack_require__.r=exports=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.nc=void 0,__webpack_require__(4647),__webpack_require__(2195),__webpack_require__(4716),__webpack_require__(9845),__webpack_require__(1607),__webpack_require__(4766),__webpack_require__(2913),__webpack_require__(9739),__webpack_require__(6669),__webpack_require__(101),__webpack_require__(8639),__webpack_require__(7893),__webpack_require__(2862)})();